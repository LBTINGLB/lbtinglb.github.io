<!DOCTYPE html>
<html lang="en,zh-Hanz,default">
    

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ff152264e7864a4f4c07a049eae5646e";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="LBTING&#39; Blog">
    <title>ADIOS2learning - LBTING&#39; Blog</title>
    <meta name="author" content="LBTING">
    <meta name="description" content="LBTING&#39; Blog">
    <link rel="icon" href="/assets/images/null">
    
        <link rel="alternative" type="application/atom+xml" title="RSS" href="atom.xml">
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style.min.css">
    <!--STYLES END-->
    
    
<script type="text/javascript">
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ff152264e7864a4f4c07a049eae5646e";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</script>

</head>

    <body>
        <div id="blog">
            <header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="http://lbting.com">LBTING&#39; Blog</a>
    </h1>
    
        <a class="header-right-picture" href="/#about">
            <img class="header-picture" src="/assets/images/42.jpg"/>
        </a>
    
</header>
            <nav id="sidebar" data-behavior="1">
    
    <div class="sidebar-profile">
        <a href="/#about">
            
            <img class="sidebar-profile-picture" src="/assets/images/42.jpg"/>
            
        </a>
        <span class="sidebar-profile-name">LBTING</span>
    </div>
    
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/">
            
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/all-categories">
            
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/all-tags">
            
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link st-search-show-outputs" href="/#search">
            
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/#about">
            
                    <i class="sidebar-button-icon fa fa-lg fa-street-view"></i>
                    <span class="sidebar-button-desc">About me</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="http://blog.blaulan.com/" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-beer"></i>
                    <span class="sidebar-button-desc">Eric</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="https://github.com/lbtinglb/lbtinglb.github.io" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/atom.xml">
            
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>
            <div id="main" data-behavior="1">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
        <div class="post-header main-content-wrap">
    
        <h1 class="post-title" itemprop="headline">ADIOS2learning</h1>
    
    <div class="post-meta">
    <time  itemprop="datePublished" content="Wed Aug 02 2017 13:34:55 GMT-0400">
        Aug 02, 2017
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/new/">new</a>


    
</div>
</div>
    
    <div class="post-content markdown main-content-wrap" itemprop="articleBody">
        <p>Notes when working on ADIOS2 project.</p>
<a id="more"></a>
<h1 id="adios2"><a href="#ADIOS2" class="headerlink" title="ADIOS2"></a><a href="https://github.com/ornladios/ADIOS2" target="_blank" rel="external">ADIOS2</a></h1><!-- toc -->
<ul>
<li><a href="#adios-usefull-link">ADIOS usefull link</a><ul>
<li><a href="#wiki">Wiki</a></li>
</ul>
</li>
<li><a href="#others">others</a><ul>
<li><a href="#build-adios-for-adios2">Build ADIOS for ADIOS2</a></li>
<li><a href="#ioh">IO.h</a></li>
<li><a href="#array_write-exmaple">${}Array_write exmaple</a></li>
<li><a href="#attribute">Attribute</a></li>
</ul>
</li>
<li><a href="#notions-and-ideas">Notions and ideas</a><ul>
<li><a href="#infinibandhttpsenwikipediaorgwikiinfiniband"><a href="https://en.wikipedia.org/wiki/InfiniBand" target="_blank" rel="external">InfiniBand</a></a></li>
<li><a href="#tcpip"><a href="">TCP/IP</a></a></li>
<li><a href="#osi-modelhttpswwwlifewirecomopen-systems-interconnection-model-816290"><a href="https://www.lifewire.com/open-systems-interconnection-model-816290" target="_blank" rel="external">OSI model</a></a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
<h1 id="adios-usefull-link"><a href="#ADIOS-usefull-link" class="headerlink" title="ADIOS usefull link"></a>ADIOS usefull link</h1><blockquote>
<ul>
<li><a href="https://github.com/ornladios/ADIOS2" target="_blank" rel="external">github</a></li>
</ul>
</blockquote>
<h2 id="wiki"><a href="#Wiki" class="headerlink" title="Wiki"></a>Wiki</h2><blockquote>
<ul>
<li><a href="https://www.hdfgroup.org/hdf5/" target="_blank" rel="external">HDF5</a><ul>
<li>HDF5 is a data model, library, and file format for storing and managing data. It supports an unlimited variety of datatypes, and is designed for flexible and efficient I/O and for high volume and complex data. HDF5 is portable and is extensible, allowing applications to evolve in their use of HDF5. The HDF5 Technology suite includes tools and applications for managing, manipulating, viewing, and analyzing data in the HDF5 format.</li>
<li><a href="https://support.hdfgroup.org/ftp/HDF5/current/src/unpacked/release_docs/INSTALL_parallel" target="_blank" rel="external">how to build a parallel hdf5 for ADIOS2</a></li>
</ul>
</li>
</ul>
</blockquote>
<h1 id="others"><a href="#others" class="headerlink" title="others"></a>others</h1><blockquote>
<ul>
<li>ADIOS uses a modern googleTest module which is ahead of CMake.</li>
<li>view data in bp file: using <code>bpls</code> and <code>bpdump</code> in adiosBuild/bin dir</li>
<li><code>Unable to write /__adios__/timer_labels_1</code> is expected in adios1 write api</li>
<li>Use bpls for debug: bin/bpls -l ADIOS2ADIOS1WriteADIOS1Read2D2x4Test.bp -D r64 -n 3</li>
<li>CMake command: cmake -DCMAKE_INSTALL_PREFIX=/opt/adios//opt/adios2/2.0.0/gnu/openmpi -DADIOS1_ROOT=/opt/adios1/1.12.0/gnu/openmpi ../ADIOS2/ -GNinja</li>
<li>When adios1 is not built with fPIC: call <code>CFLAGS=&quot;-O2 -fPIC&quot; CXXFLAGS=&quot;-O2 -fPIC&quot; FCFLAGS=&quot;-O2 -fPIC&quot; ./configure --prefix=/opt/adios1/1.12.0/gnu/openmpi</code> in adios1 source</li>
<li>install hdf5: use apt-search to find hdf5 libs and install <code>libhdf5-openmpi-dev</code> and <code>libhdf5-openmpi-10</code></li>
<li>Debug in parallel trick:<ul>
<li>/usr/bin/mpiexec &#x201C;-n&#x201D; &#x201C;2&#x201D; xterm -e gdb -ex run &#x2013;arg &#x201C;/home/haochengliu/Kitware/ADIOS2/buildADIOS2/bin/TestBPWriteReadAttributes&#x201D; &#x201C;&#x2013;gtest_filter=BPWriteReadAttributeTest.ADIOS2BPWriteADIOS1ReadSingleTypes&#x201D;</li>
</ul>
</li>
<li>long double: It&#x2019;s not tested since there is no universial defination of it. Intel: 96 bit and Oracle: 128 bit</li>
</ul>
</blockquote>
<h2 id="build-adios-for-adios2"><a href="#Build-ADIOS-for-ADIOS2" class="headerlink" title="Build ADIOS for ADIOS2"></a>Build ADIOS for ADIOS2</h2><blockquote>
<ul>
<li>build ADIOS1 for ADIOS2(use ./configure instead of CMake) and install</li>
<li>set ADIOS1_ROOT or manually specify then (install/bin/configure)</li>
<li>In tests, you should not use try&amp;catch unless you specifically want to catch something</li>
</ul>
</blockquote>
<h2 id="ioh"><a href="#IO-h" class="headerlink" title="IO.h"></a>IO.h</h2><blockquote>
<ul>
<li>DefineVariable<ul>
<li>shape: size of the matrix Ex(10*10)</li>
<li>start: start position of current process Ex(4,4)</li>
<li>count: to what extent this process can write/read Ex(2,2)-&gt; from row(4 -&gt; 6) and col(4 -&gt; 6)</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="array_write-exmaple"><a href="#Array-write-exmaple" class="headerlink" title="${}Array_write exmaple"></a>${}Array_write exmaple</h2><blockquote>
<ul>
<li>globalArray_write.cpp<ul>
<li>A global array is an N-dimensional array. A process can write a sub-array<br>into the global array by stating the N-dimensional offset and the size of<br>the sub-array. At reading, one can read back any portion of the array<br>regardless of how many processors wrote that data.</li>
</ul>
</li>
<li>global dimensions MUST NOT change over time. If they are, then the array should be<br>handled as a local array.</li>
<li>joinedArray_write.cpp<ul>
<li>Write local arrays from multiple processors and make ADIOS join them<br>at reading to show a global array &gt; - localArray_write.cpp &gt;     + write local arrays and read them seperately</li>
<li>If one cannot or does not want to organize arrays present on each process<br>as one global array, still one can write them out with the same name.<br>Reading, however, needs to be handled differently: each process&#x2019; array has<br>to be read separately, using Writeblock selections.</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="attribute"><a href="#Attribute" class="headerlink" title="Attribute"></a>Attribute</h2><blockquote>
<ul>
<li>Attribute should be unique per process. When the same name exists on many ranks they will be merged as a single attribute or variable<br>indices with different &#x201C;characteristics&#x201D; to locate the original rank/file source under file.bp.dir</li>
</ul>
</blockquote>
<h1 id="notions-and-ideas"><a href="#Notions-and-ideas" class="headerlink" title="Notions and ideas"></a>Notions and ideas</h1><h2 id="infiniband"><a href="#InfiniBand" class="headerlink" title="InfiniBand"></a><a href="https://en.wikipedia.org/wiki/InfiniBand" target="_blank" rel="external">InfiniBand</a></h2><blockquote>
<ul>
<li>A <code>computer-networking standard</code> used in HPC that features very high throughout and very low latency.</li>
</ul>
</blockquote>
<h2 id="tcpip"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a><a href="">TCP/IP</a></h2><blockquote>
<ul>
<li>Short for Transmission Control Protocol/Internet Protocol, TCP/IP is a set of rules (protocols) governing communications among all computers on the Internet.</li>
<li>IP: 216.58.216.164, domain name: ww.google.com</li>
</ul>
</blockquote>
<h2 id="osi-model"><a href="#OSI-model" class="headerlink" title="OSI model"></a><a href="https://www.lifewire.com/open-systems-interconnection-model-816290" target="_blank" rel="external">OSI model</a></h2><blockquote>
<ul>
<li>Open Systems Interconnection Model: a visual representation of how network functions work</li>
<li><a href="https://en.wikipedia.org/wiki/OSI_model" target="_blank" rel="external">Wiki</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Application layer (layer 7) - Network Process to Application. This end-user layer packages the data received from the Presentation Layer in the format needed by the application or end-user process that receives it. Examples include browsers, SMTP, HTTP, and FTP. This layer also creates what is to be sent back to the Presentation Layer.</div><div class="line"></div><div class="line">The presentation layer (layer 6) - Data Representation and Encryption, including format conversions. Think of this layer as the translator. Examples include ASCII, TIFF, JPEG, MIDI, and MPEG.</div><div class="line">Session layer (layer 5) - Interhost Communication. This layer manages multiple types of communications and sends data to logical ports, including those using NFS and SQL.</div><div class="line">Transport layer (layer 4) - End-to-End Connections and Reliability. As the name implies, this layer moves data across network connections, usually using TCP. It also handles error recovery and re-transmissions.</div><div class="line">Network layer (layer 3) - Path Determination, IP, and Routing. Layer 3 formats data as packets. Directs the data to the correct physical path.</div><div class="line">Data Link layer (layer 2) - This is the most complex layer in the OSI model, and it is sometimes divided into two parts: one for media access control and one for logical link control.</div><div class="line">The physical layer (layer 1) - Media, Signal and Binary Transmission. Examples include hubs, repeaters, and Ethernet cables. Data is transmitted by an electric voltage, radio frequencies, infrared or ordinary light.</div></pre></td></tr></table></figure></li>
</ul>
</blockquote>

        
            
        
    </div>
    <div class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/new/">new</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/08/02/SQLLearing/"  data-tooltip="SQL learning">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/06/22/tmuxLearning/" data-tooltip="tmuxLearning">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://lbting.com/2017/08/02/ADIOS2learning/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://lbting.com/2017/08/02/ADIOS2learning/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://lbting.com/2017/08/02/ADIOS2learning/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
    </ul>
</div>


        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 LBTING. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/08/02/SQLLearing/"  data-tooltip="SQL learning">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/06/22/tmuxLearning/" data-tooltip="tmuxLearning">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://lbting.com/2017/08/02/ADIOS2learning/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://lbting.com/2017/08/02/ADIOS2learning/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://lbting.com/2017/08/02/ADIOS2learning/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
    </ul>
</div>


                </div>
            
        </div>
        <div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/42.jpg"/>
        
            <h4 id="about-card-name">LBTING</h4>
        
            <h5 id="about-card-bio"><p>“They’re both convinced that a sudden passion joined them.Such certainty is beautiful.But uncertainty is more beautiful still.</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>R&amp;D Engineer</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Albany USA
            </h5>
        
    </div>
</div>
        <div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script.min.js"></script>
<!--SCRIPTS END-->



</html>
