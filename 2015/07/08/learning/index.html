<!DOCTYPE html>
<html lang="en,zh-Hanz,default">
    

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ff152264e7864a4f4c07a049eae5646e";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="LBTING&#39; Blog">
    <title>learning c++ notes - LBTING&#39; Blog</title>
    <meta name="author" content="LBTING">
    <meta name="description" content="LBTING&#39; Blog">
    <link rel="icon" href="/assets/images/null">
    
        <link rel="alternative" type="application/atom+xml" title="RSS" href="atom.xml">
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style.min.css">
    <!--STYLES END-->
    
    
<script type="text/javascript">
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?ff152264e7864a4f4c07a049eae5646e";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</script>

</head>

    <body>
        <div id="blog">
            <header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="http://lbting.com">LBTING&#39; Blog</a>
    </h1>
    
        <a class="header-right-picture" href="/#about">
            <img class="header-picture" src="/assets/images/42.jpg"/>
        </a>
    
</header>
            <nav id="sidebar" data-behavior="1">
    
    <div class="sidebar-profile">
        <a href="/#about">
            
            <img class="sidebar-profile-picture" src="/assets/images/42.jpg"/>
            
        </a>
        <span class="sidebar-profile-name">LBTING</span>
    </div>
    
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/">
            
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/all-categories">
            
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/all-tags">
            
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link st-search-show-outputs" href="/#search">
            
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/#about">
            
                    <i class="sidebar-button-icon fa fa-lg fa-street-view"></i>
                    <span class="sidebar-button-desc">About me</span>
                </a>
        </li>
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="http://blog.blaulan.com/" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-beer"></i>
                    <span class="sidebar-button-desc">Eric</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="https://github.com/lbtinglb/lbtinglb.github.io" target="_blank">
            
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
    </ul>
    
    <ul class="sidebar-buttons">
        
        <li class="sidebar-button">
            
                <a  class="sidebar-button-link " href="/atom.xml">
            
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>
            <div id="main" data-behavior="1">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
        <div class="post-header main-content-wrap">
    
        <h1 class="post-title" itemprop="headline">learning c++ notes</h1>
    
    <div class="post-meta">
    <time  itemprop="datePublished" content="Wed Jul 08 2015 15:19:09 GMT-0400">
        Jul 08, 2015
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/technique/">technique</a>, <a class="category-link" href="/categories/technique/study/">study</a>


    
</div>
</div>
    
    <div class="post-content markdown main-content-wrap" itemprop="articleBody">
        <p>Notes when reading C_Primer 5th edition<br><a id="more"></a></p>
<h1 id="c_primer-5th-edition-studying-note"><a href="#C-Primer-5th-edition-studying-note" class="headerlink" title="C_Primer 5th edition studying note"></a>C_Primer 5th edition studying note</h1><blockquote>
<ul>
<li>recommended book: exceptional c++</li>
</ul>
</blockquote>
<!-- toc -->
<ul>
<li><a href="#chapter-1-getting-started"><strong>Chapter 1. getting Started</strong></a><ul>
<li><a href="#11-writing-a-simple-c-program">1.1 Writing a simple c++ program</a></li>
<li><a href="#12-a-first-look-at-inputoutput">1.2 A first look at Input/Output</a></li>
<li><a href="#13-a-word-about-comments">1.3 A word about Comments</a></li>
<li><a href="#14-flow-of-control">1.4 Flow of Control</a></li>
<li><a href="#15-introducing-classes">1.5 Introducing Classes</a></li>
<li><a href="#16-th-bookstore-program">1.6 Th BookStore Program</a></li>
<li><a href="#chapter-summary">Chapter Summary</a></li>
</ul>
</li>
<li><a href="#chapter-2-variables-and-basic-types"><strong>Chapter 2. Variables and Basic Types</strong></a><ul>
<li><a href="#21primitive-built-in-types">2.1Primitive Built-in Types</a></li>
<li><a href="#22-variables">2.2 Variables</a></li>
<li><a href="#23-compound-types">2.3 Compound Types</a></li>
<li><a href="#24-const-qualifier">2.4 const Qualifier</a></li>
<li><a href="#25-dealing-with-types">2.5 Dealing with types</a><ul>
<li><a href="#251-type-alias">2.5.1 Type Alias</a></li>
</ul>
</li>
<li><a href="#26-defining-our-own-data-structures">2.6 Defining Our Own Data Structures</a></li>
<li><a href="#chapter-summary">Chapter summary</a></li>
</ul>
</li>
<li><a href="#chapter3-strings-vectors-and-arrays">Chapter3. Strings, Vectors, and Arrays</a><ul>
<li><a href="#31-namespace-using-declarations">3.1 Namespace using Declarations</a></li>
<li><a href="#32-library-string-type">3.2 Library string type</a><br>~ <a href="#323-dealing-with-the-characters-in-a-string">3.2.3 dealing with the characters in a string</a></li>
<li><a href="#33-library-vector-type">3.3 Library vector type</a><br>~ <a href="#331-defining-and-initializing-vectors">3.3.1 Defining and Initializing vectors</a><br>~ <a href="#332-adding-elements-to-a-vector">3.3.2 Adding elements to a vector</a><br>~ <a href="#333-other-vector-operations">3.3.3 Other vector Operations</a></li>
<li><a href="#34-introducing-iterators">3.4 Introducing iterators</a><br>~ <a href="#341-using-iterators">3.4.1 Using iterators</a><br>~ <a href="#342-iterator-arithmetic">3.4.2 Iterator Arithmetic</a></li>
<li><a href="#35-arrays">3.5 Arrays</a><br>~ <a href="#351-defining-and-initializing-built-in-arrays">3.5.1 Defining and Initializing Built-in Arrays</a><br>~ <a href="#352-accessing-the-elements-of-an-array">3.5.2 Accessing the elements of an array</a><br>~ <a href="#353-poiners-and-arrays">3.5.3 poiners and arrays</a><br>~ <a href="#354-c-style-character-strings">3.5.4 C-style character strings</a><br>~ <a href="#36-multidimensional-arrays">3.6 Multidimensional Arrays</a></li>
</ul>
</li>
<li><a href="#chapter-4-expressions">Chapter 4. Expressions</a><ul>
<li><a href="#41-fundamentals">4.1 Fundamentals</a></li>
<li><a href="#42-arithmetic-operators">4.2 Arithmetic Operators</a></li>
<li><a href="#43-logical-and-relational-operators">4.3 Logical and Relational Operators</a></li>
<li><a href="#44-assignment-operators">4.4 Assignment operators</a></li>
<li><a href="#45-increment-and-decrement-operators">4.5 Increment and Decrement Operators</a></li>
<li><a href="#46-the-mumber-access-operators">4.6 The Mumber Access Operators</a></li>
<li><a href="#47-the-conditional-operator">4.7 The Conditional Operator</a></li>
<li><a href="#48-the-bitwise-operators">4.8 The Bitwise Operators</a></li>
<li><a href="#49-the-sizeof-operator">4.9 the <em>sizeof</em> Operator</a></li>
<li><a href="#410-comma-operator">4.10 Comma Operator</a><br>~ <a href="#411-type-conversions">4.11 Type Conversions</a><br>~ <a href="#chapter-summary">Chapter Summary</a></li>
</ul>
</li>
<li><a href="#chapter-5-statements"><strong>Chapter 5. Statements</strong></a><ul>
<li><a href="#51-simple-statements">5.1 Simple Statements</a></li>
<li><a href="#52-statement-scope">5.2 Statement Scope</a></li>
<li><a href="#53-conditional-statements">5.3 Conditional Statements</a><br>~ <a href="#532-the-switch-statement">5.3.2 The <em>switch</em> Statement</a><br>~ <a href="#541-the-while-statement">5.4.1 The <em>while</em> statement</a><br>~ <a href="#542-traditional-for-statement">5.4.2 Traditional <em>for</em> Statement</a><br>~ <a href="#543-range-for-statement">5.4.3 Range for statement</a><br>~ <a href="#544-the-do-while-statement">5.4.4 The <em>do while</em> Statement</a></li>
<li><a href="#55-jump-statements">5.5 Jump Statements</a></li>
<li><a href="#56-try-blocks-and-exception-handling">5.6 <em>try</em> Blocks and Exception Handling</a><br>~ <a href="#561-a-throw-expression">5.6.1 A <code>throw</code> Expression</a><br>~ <a href="#562-the-try-block">5.6.2 The <em>try</em> Block</a><br>~ <a href="#563-standard-exceptions">5.6.3 Standard Exceptions</a></li>
</ul>
</li>
<li><a href="#chatper-6-functions">Chatper 6. Functions</a><ul>
<li><a href="#61-function-basics">6.1 Function Basics</a><br>~ <a href="#611-local-objects">6.1.1 Local Objects</a><br>~ <a href="#612-function-declarations">6.1.2 Function Declarations</a><br>~ <a href="#613-separate-compilation">6.1.3 Separate Compilation</a></li>
<li><a href="#62-argument-passing">6.2 Argument Passing</a><br>~ <a href="#623-const-parameters-and-arguments">6.2.3 <strong>const</strong> Parameters and Arguments</a><br>~ <a href="#624-array-parameters">6.2.4 Array Parameters</a><br>~ <a href="#625-main-handling-command-line-options">6.2.5 <em>main</em>: Handling Command-Line Options</a><br>~ <a href="#626-functions-with-varying-parameters">6.2.6 Functions with Varying Parameters</a><br>~ <a href="#63-return-types-and-the-return-statement">6.3 Return Types and the return Statement</a></li>
</ul>
</li>
<li><a href="#chapter-16-templates-and-generic-programming">Chapter 16 Templates and Generic Programming</a><ul>
<li><a href="#161-definig-a-template">16.1 Definig a Template</a><br>~ <a href="#1611-function-templates">16.1.1 Function Templates</a></li>
</ul>
<ul>
<li><a href="#file-io">file IO</a></li>
</ul>
</li>
<li><a href="#ps-concept-clearance">PS: Concept Clearance</a><ul>
<li><a href="#1-char-vs-string">1. char VS string</a></li>
<li><a href="#2-heap-vs-stack">2. heap VS stack</a></li>
<li><a href="#3-argvargvhttpstackoverflowcomquestions3024197what-does-int-argc-char-argv-mean">3. <a href="http://stackoverflow.com/questions/3024197/what-does-int-argc-char-argv-mean" target="_blank" rel="external">argv&amp;argv</a></a></li>
<li><a href="#4-why-put-classfunction-definition-in-header-files-and-definition-of-ordinary-and-class-member-functions-in-source-files">4. Why put class&amp;function definition in header files and definition of ordinary and class-member functions in source files</a></li>
<li><a href="#5-understanding-vectorintsize_type-xhttpstackoverflowcomquestions4849632vectorintsize-type-in-c">5. <a href="http://stackoverflow.com/questions/4849632/vectorintsize-type-in-c" target="_blank" rel="external">understanding vector<int>::size_type x;</int></a></a></li>
<li><a href="#6vector-vs-list">6.vector VS list</a></li>
<li><a href="#7-pointer-clarificationhttpwwwcodeprojectcomarticles7042how-to-interpret-complex-c-c-declarations">7 <a href="http://www.codeproject.com/Articles/7042/How-to-interpret-complex-C-C-declarations" target="_blank" rel="external">pointer clarification</a></a></li>
<li><a href="#8how-to-write-a-class-templatehttpwwwcprogrammingcomtutorialtemplateshtml">8.<a href="http://www.cprogramming.com/tutorial/templates.html" target="_blank" rel="external">How to write a class template</a></a></li>
<li><a href="#9typedef-typenamehttpstackoverflowcomquestions610245where-and-why-do-i-have-to-put-the-template-and-typename-keywords">9.<a href="http://stackoverflow.com/questions/610245/where-and-why-do-i-have-to-put-the-template-and-typename-keywords" target="_blank" rel="external">typedef + typename</a></a></li>
<li><a href="#10-typecomparehttpbbscsdnnettopics30334109">10 <a href="http://bbs.csdn.net/topics/30334109" target="_blank" rel="external">typeCompare</a></a></li>
<li><a href="#11-pointerreferencehttpstackoverflowcomquestions8403447swapping-pointers-in-c-char-int">11 <a href="http://stackoverflow.com/questions/8403447/swapping-pointers-in-c-char-int" target="_blank" rel="external">pointer&amp;reference</a></a></li>
<li><a href="#12-maphttpwwwcpluspluscomreferencemapmap">12 <a href="http://www.cplusplus.com/reference/map/map/" target="_blank" rel="external">map</a></a></li>
<li><a href="#13-iterating-in-vectorhttpstackoverflowcomquestions409348iteration-over-stdvector-unsigned-vs-signed-index-variable">13 <a href="http://stackoverflow.com/questions/409348/iteration-over-stdvector-unsigned-vs-signed-index-variable" target="_blank" rel="external">iterating in vector</a></a></li>
<li><a href="#14-preprocessor-directiveshttpwwwcpluspluscomdoctutorialpreprocessor">14 <a href="http://www.cplusplus.com/doc/tutorial/preprocessor/" target="_blank" rel="external">preprocessor directives</a></a></li>
<li><a href="#why-do-we-need-pointer-to-pointerhttpstackoverflowcomquestions5580761why-use-double-pointer-or-why-use-pointers-to-pointers"><a href="http://stackoverflow.com/questions/5580761/why-use-double-pointer-or-why-use-pointers-to-pointers" target="_blank" rel="external">why do we need pointer to pointer</a></a></li>
<li><a href="#debug-macro">Debug macro:</a></li>
<li><a href="#data-structure-in-c">Data Structure in C++</a></li>
<li><a href="#15-private-vs-public-vs-protectedhttpstackoverflowcomquestions860339difference-between-private-public-and-protected-inheritance">15. <a href="http://stackoverflow.com/questions/860339/difference-between-private-public-and-protected-inheritance" target="_blank" rel="external">private VS public VS protected</a></a></li>
<li><a href="#16-memcpy">16. Memcpy</a></li>
<li><a href="#17-include-filename-vs-include-filename">17.  #include <filename> VS #include &#x201C;filename&#x201D;</filename></a></li>
<li><a href="#18-raiihttpencppreferencecomwcpplanguageraii">18. <a href="http://en.cppreference.com/w/cpp/language/raii" target="_blank" rel="external">RAII</a></a></li>
<li><a href="#19-error-message-learning">19. Error message learning</a></li>
<li><a href="#20-gcc-version-check">20. GCC version check</a></li>
</ul>
</li>
<li><a href="#macros-in-c">macros in C++</a><ul>
<li><a href="#whats-hin-filehttpstackoverflowcomquestions14248848what-mean-file-with-extension-h-in"><a href="http://stackoverflow.com/questions/14248848/what-mean-file-with-extension-h-in" target="_blank" rel="external">What&#x2019;s h.in file</a></a></li>
</ul>
</li>
<li><a href="#override-specifierhttpencppreferencecomwcpplanguageoverride"><a href="http://en.cppreference.com/w/cpp/language/override" target="_blank" rel="external">override specifier</a></a></li>
<li><a href="#reverse_iteratorhttpwwwcpluspluscomreferenceiteratorreverse_iterator"><a href="http://www.cplusplus.com/reference/iterator/reverse_iterator/" target="_blank" rel="external">reverse_iterator</a></a></li>
<li><a href="#iterators-in-chttpwwwaristeiacompaperscuj_june_2001pdf"><a href="http://www.aristeia.com/Papers/CUJ_June_2001.pdf" target="_blank" rel="external">iterators in C++</a></a></li>
<li><a href="#inline-and-statichttpstackoverflowcomquestions10847176should-i-define-static-inline-methods-in-header-file"><a href="http://stackoverflow.com/questions/10847176/should-i-define-static-inline-methods-in-header-file" target="_blank" rel="external">inline and static</a></a></li>
<li><a href="#invalid-use-of-non-static-member-functioninvalid-use-of-non-static-member-function"><a href="invalid use of non-static member function">invalid use of non static member function</a></a></li>
<li><a href="#shared_ptrhttpwwwcpluspluscomreferencememoryshared_ptr"><a href="http://www.cplusplus.com/reference/memory/shared_ptr/" target="_blank" rel="external">shared_ptr</a></a></li>
<li><a href="#when-to-use-reinterpret_cast">when to use reinterpret_cast</a></li>
<li><a href="#headers-and-includes-why-and-howhttpwwwcpluspluscomforumarticles10627msg49679"><a href="http://www.cplusplus.com/forum/articles/10627/#msg49679" target="_blank" rel="external">Headers and Includes: Why and How</a></a></li>
<li><a href="#undefined-reference-to-a-const-expr">undefined reference to a const expr</a></li>
<li><a href="#shared_ptr-and-unique_ptrhttpstackoverflowcomquestions106508what-is-a-smart-pointer-and-when-should-i-use-one"><a href="http://stackoverflow.com/questions/106508/what-is-a-smart-pointer-and-when-should-i-use-one" target="_blank" rel="external">shared_ptr and unique_ptr</a></a></li>
<li><a href="#nested-class-in-chttpstackoverflowcomquestions4571355why-would-one-use-nested-classes-in-c"><a href="http://stackoverflow.com/questions/4571355/why-would-one-use-nested-classes-in-c" target="_blank" rel="external">nested class in C++</a></a></li>
<li><a href="#forward-decare-a-class-in-namespace">forward decare a class in namespace</a></li>
<li><a href="#macro-vs-consthttpstackoverflowcomquestions6393776what-is-the-difference-between-a-macro-and-a-const-in-c6393843"><a href="http://stackoverflow.com/questions/6393776/what-is-the-difference-between-a-macro-and-a-const-in-c#6393843" target="_blank" rel="external">macro VS const</a></a></li>
<li><a href="#move-constructorhttpblogsmartbearcomc-plus-plusc11-tutorial-introducing-the-move-constructor-and-the-move-assignment-operator"><a href="http://blog.smartbear.com/c-plus-plus/c11-tutorial-introducing-the-move-constructor-and-the-move-assignment-operator/" target="_blank" rel="external">Move constructor</a></a></li>
<li><a href="#constructors-initialization-listhttpstackoverflowcomquestions120876what-are-the-rules-for-calling-the-superclass-constructor"><a href="http://stackoverflow.com/questions/120876/what-are-the-rules-for-calling-the-superclass-constructor" target="_blank" rel="external">constructor&#x2019;s initialization list</a></a></li>
<li><a href="#doxygen-stylehttpwwwstacknl~dimitridoxygenmanualdocblockshtmlcppblock"><a href="http://www.stack.nl/~dimitri/doxygen/manual/docblocks.html#cppblock" target="_blank" rel="external">Doxygen style</a></a></li>
<li><a href="#move-semantics-and-rvalue-references-in-c11httpwwwcprogrammingcomc11rvalue-references-and-move-semantics-in-c11html"><a href="http://www.cprogramming.com/c++11/rvalue-references-and-move-semantics-in-c++11.html" target="_blank" rel="external">Move semantics and rvalue references in C++11</a></a></li>
<li><a href="#c-rvalue-references-explainedhttpthbeckernetarticlesrvalue_referencessection_01html"><a href="http://thbecker.net/articles/rvalue_references/section_01.html" target="_blank" rel="external">C++ Rvalue References Explained</a></a></li>
<li><a href="#auto-keyword">auto keyword</a></li>
<li><a href="#pointer-and-class-inheritance">pointer and class inheritance</a></li>
<li><a href="#stdforwardhttpstackoverflowcomquestions28828159usage-of-stdforward-vs-stdmove"><a href="http://stackoverflow.com/questions/28828159/usage-of-stdforward-vs-stdmove" target="_blank" rel="external">std::forward</a></a><ul>
<li><a href="#bit-mask-bit-flagshttpwwwlearncppcomcpp-tutorial3-8a-bit-flags-and-bit-masks"><a href="http://www.learncpp.com/cpp-tutorial/3-8a-bit-flags-and-bit-masks/" target="_blank" rel="external">Bit mask &amp;&amp; Bit flags</a></a></li>
</ul>
</li>
<li><a href="#useful-debug-codes">Useful Debug codes</a></li>
<li><a href="#stdcout-strong-typed-enum">std::cout strong typed enum</a></li>
<li><a href="#smart-pointerhttpumichedu~eecs381handoutsc11_smart_ptrspdf"><a href="http://umich.edu/~eecs381/handouts/C++11_smart_ptrs.pdf" target="_blank" rel="external">smart pointer</a></a><ul>
<li><a href="#dll-vs-lib-vs-header">DLL VS LIB VS HEADER</a></li>
</ul>
</li>
<li><a href="#template-keyword-typename">template keyword: typename</a></li>
<li><a href="#lambda-functionhttpwwwcprogrammingcomc11c11-lambda-closureshtml"><a href="http://www.cprogramming.com/c++11/c++11-lambda-closures.html" target="_blank" rel="external">lambda function</a></a><ul>
<li><a href="#friend-a-class-in-an-anonymous-namespacehttpsstackoverflowcomquestions19872920is-it-possible-to-friend-a-class-in-an-anonymous-namespace-in-c"><a href="https://stackoverflow.com/questions/19872920/is-it-possible-to-friend-a-class-in-an-anonymous-namespace-in-c" target="_blank" rel="external">friend a class in an anonymous namespace</a></a></li>
<li><a href="#error-lnk2019-__declspecdllimporthttpsstackoverflowcomquestions9747207unresolved-external-symbol-for-declspecdllimport-when-using-dll-to-export-cl"><a href="https://stackoverflow.com/questions/9747207/unresolved-external-symbol-for-declspecdllimport-when-using-dll-to-export-cl" target="_blank" rel="external">error LNK2019 __declspec(dllimport)</a></a></li>
<li><a href="#passing-as-this-argument-discards-qualifiers-fpermissive">[passing as &#x2018;this&#x2019; argument discards qualifiers[-fpermissive]]</a></li>
<li><a href="#long-is-32-bit-on-64-bit-windowshttpsstackoverflowcomquestions384502what-is-the-bit-size-of-long-on-64-bit-windows"><a href="https://stackoverflow.com/questions/384502/what-is-the-bit-size-of-long-on-64-bit-windows" target="_blank" rel="external">long is 32 bit on 64 bit windows!</a></a></li>
<li><a href="#restores-its-target-object-to-its-original-value-once-this-classs-instance-goes-out-of-scope">Restores its target object to its original value once this class&#x2019;s instance goes out of scope.</a></li>
</ul>
</li>
<li><a href="#call-back-function">call back function</a></li>
<li><a href="#member-function-template-to-be-virtualhttpsstackoverflowcomquestions2354210can-a-c-class-member-function-template-be-virtual"><a href="https://stackoverflow.com/questions/2354210/can-a-c-class-member-function-template-be-virtual" target="_blank" rel="external">member function template to be virtual</a></a></li>
<li><a href="#template-class-and-specializationhttpwwwcpluspluscomdocoldtutorialtemplates"><a href="http://www.cplusplus.com/doc/oldtutorial/templates/" target="_blank" rel="external">template class and specialization</a></a></li>
<li><a href="#argument-dependent-lookuphttpencppreferencecomwcpplanguageadl"><a href="http://en.cppreference.com/w/cpp/language/adl" target="_blank" rel="external">Argument-dependent lookup</a></a></li>
<li><a href="#read-a-file-as-a-string">[Read a file as a string]</a></li>
<li><a href="#static-function-cannot-be-exported">static function cannot be exported</a></li>
<li><a href="#use-new-c-visibility-supporthttpsgccgnuorgwikivisibility"><a href="https://gcc.gnu.org/wiki/Visibility" target="_blank" rel="external">Use new C++ visibility support</a></a></li>
<li><a href="#how-does-the-compilation-linking-process-workhttpsstackoverflowcomquestions6264249how-does-the-compilation-linking-process-work"><a href="https://stackoverflow.com/questions/6264249/how-does-the-compilation-linking-process-work" target="_blank" rel="external">How does the compilation linking process work</a></a></li>
<li><a href="#dllimport-and-dllexporthttpsmsdnmicrosoftcomen-uslibrary81h27t8caspx"><a href="https://msdn.microsoft.com/en-us/library/81h27t8c.aspx" target="_blank" rel="external">dllimport and dllexport</a></a></li>
<li><a href="#how-to-use-template-within-a-templatehttpsstackoverflowcomquestions610245where-and-why-do-i-have-to-put-the-template-and-typename-keywords"><a href="https://stackoverflow.com/questions/610245/where-and-why-do-i-have-to-put-the-template-and-typename-keywords" target="_blank" rel="external">how to use template within a template</a></a></li>
<li><a href="#how-to-put-template-class-implementation-in-source-filehttpswwwcodeprojectcomarticles48575how-to-define-a-template-class-in-a-h-file-and-imp"><a href="https://www.codeproject.com/Articles/48575/How-to-define-a-template-class-in-a-h-file-and-imp" target="_blank" rel="external">how to put template class implementation in source file</a></a></li>
<li><a href="#name-hidinghttpsstackoverflowcomquestions1628768why-does-an-overridden-function-in-the-derived-class-hide-other-overloads-of-the"><a href="https://stackoverflow.com/questions/1628768/why-does-an-overridden-function-in-the-derived-class-hide-other-overloads-of-the" target="_blank" rel="external">name hiding</a></a></li>
<li><a href="#universalforwarding-reference">[Universal/forwarding reference]</a></li>
<li><a href="#scoping-and-name-lookup-are-affected-by-namespaces">scoping and name lookup are affected by namespaces</a></li>
<li><a href="#exceptions-vs-c-style-return-codes">Exceptions vs C style return codes</a></li>
<li><a href="#make-smart-pointer-handle-concurencyhttpsstackoverflowcomquestions14482830stdshared-ptr-thread-safety"><a href="https://stackoverflow.com/questions/14482830/stdshared-ptr-thread-safety" target="_blank" rel="external">Make smart pointer handle concurency</a></a></li>
<li><a href="#rvo-vs-stdmovehttpswwwibmcomdeveloperworkscommunityblogs5894415f-be62-4bc0-81c5-3956e82276f3entryrvo_v_s_std_movelangen"><a href="https://www.ibm.com/developerworks/community/blogs/5894415f-be62-4bc0-81c5-3956e82276f3/entry/RVO_V_S_std_move?lang=en" target="_blank" rel="external">RVO vs std::move</a></a></li>
<li><a href="#pimpl">[Pimpl]</a></li>
<li><a href="#universal-referencehttpsisocpporgblog201211universal-references-in-c11-scott-meyers"><a href="https://isocpp.org/blog/2012/11/universal-references-in-c11-scott-meyers/" target="_blank" rel="external">Universal Reference</a></a></li>
<li><a href="#error-c2059-syntax-error">error C2059 syntax error</a></li>
<li><a href="#stdintegral_constanthttpwwwcpluspluscomreferencetype_traitsintegral_constant"><a href="http://www.cplusplus.com/reference/type_traits/integral_constant/" target="_blank" rel="external">std::integral_constant</a></a></li>
<li><a href="#type-traitshttpwwwcpluspluscomreferencetype_traits"><a href="http://www.cplusplus.com/reference/type_traits/" target="_blank" rel="external">type traits</a></a></li>
<li><a href="#how-to-suppress-warnings-on-machttpsarstechnicacomcivisviewtopicphpp22264193"><a href="https://arstechnica.com/civis/viewtopic.php?p=22264193" target="_blank" rel="external">How to suppress warnings on mac</a></a></li>
<li><a href="#template-metaprogramminghttpsenwikipediaorgwikitemplate_metaprogramming"><a href="https://en.wikipedia.org/wiki/Template_metaprogramming" target="_blank" rel="external">Template metaprogramming</a></a></li>
<li><a href="#function-pointerhttpwwwlearncppcomcpp-tutorial78-function-pointers"><a href="http://www.learncpp.com/cpp-tutorial/78-function-pointers/" target="_blank" rel="external">Function pointer</a></a></li>
<li><a href="#undefined-reference-to-vtable-for-vtkmndhistogram">undefined reference to vtable for vtkmNDHistogram</a></li>
<li><a href="#strict-weak-orderinghttpsstackoverflowcomquestions979759operator-and-strict-weak-ordering"><a href="https://stackoverflow.com/questions/979759/operator-and-strict-weak-ordering" target="_blank" rel="external">strict weak ordering</a></a></li>
<li><a href="#why-stdrandom_shuffle-should-be-deprecatedhttpsmeetingcppcomblogitemsstdrandom_shuffle-is-deprecatedhtml"><a href="https://meetingcpp.com/blog/items/stdrandom_shuffle-is-deprecated.html" target="_blank" rel="external">why std::random_shuffle should be deprecated</a></a></li>
<li><a href="#pseudo-random-number-generationhttpsencppreferencecomwcppnumericrandom"><a href="https://en.cppreference.com/w/cpp/numeric/random" target="_blank" rel="external">Pseudo-random number generation</a></a></li>
<li><a href="#stdcall_oncehttpsencppreferencecomwcppthreadcall_once"><a href="https://en.cppreference.com/w/cpp/thread/call_once" target="_blank" rel="external">std::call_once</a></a></li>
<li><a href="#enable_ifhttpsoopscenitiesnet20120602c11-enable_if"><a href="https://oopscenities.net/2012/06/02/c11-enable_if/" target="_blank" rel="external">enable_if</a></a></li>
<li><a href="#explicit-keywordhttpsencppreferencecomwcpplanguageexplicit"><a href="https://en.cppreference.com/w/cpp/language/explicit" target="_blank" rel="external">explicit keyword</a></a></li>
<li><a href="#stddecayhttpsencppreferencecomwcpptypesdecay"><a href="https://en.cppreference.com/w/cpp/types/decay" target="_blank" rel="external">std::decay</a></a></li>
<li><a href="#const-and-non-const-operator-overloadinghttpsstackoverflowcomquestions19237411const-and-non-const-operator-overloading"><a href="https://stackoverflow.com/questions/19237411/const-and-non-const-operator-overloading" target="_blank" rel="external">Const and Non-Const Operator Overloading</a></a></li>
<li><a href="#meta-programming">Meta programming</a></li>
<li><a href="#massif-a-heap-profiler">Massif - a heap profiler</a></li>
<li><a href="#metaclases-thoughts-on-generative-chttpsherbsuttercom20170726metaclasses-thoughts-on-generative-c"><a href="https://herbsutter.com/2017/07/26/metaclasses-thoughts-on-generative-c/" target="_blank" rel="external">Metaclases: Thoughts on generative C++</a></a></li>
<li><a href="#stdstring_viewhttpszpjiangme20180916use-string-view-to-avoid-copy-cpp17"><a href="https://zpjiang.me/2018/09/16/use-string-view-to-avoid-copy-cpp17/" target="_blank" rel="external">std::string_view</a></a></li>
<li><a href="#choose-between-different-implementations-depending-on-type-properties-at-compile-timehttpsmediumcommortificadorchoose-between-different-implementations-depending-on-type-properties-at-compile-time-in-c-68e3fd5cd2f8"><a href="https://medium.com/@mortificador/choose-between-different-implementations-depending-on-type-properties-at-compile-time-in-c-68e3fd5cd2f8" target="_blank" rel="external">choose between different implementations depending on type properties at compile time</a></a></li>
<li><a href="#check-if-a-class-has-a-member-function-of-a-given-signaturehttpsstackoverflowcomquestions87372check-if-a-class-has-a-member-function-of-a-given-signature"><a href="https://stackoverflow.com/questions/87372/check-if-a-class-has-a-member-function-of-a-given-signature" target="_blank" rel="external">check if a class has a member function of a given signature</a></a></li>
<li><a href="#explicit-specialization-of-a-template-function-of-a-templated-classhttpsstackoverflowcomquestions2097811c-syntax-for-explicit-specialization-of-a-template-function-in-a-template-clas"><a href="https://stackoverflow.com/questions/2097811/c-syntax-for-explicit-specialization-of-a-template-function-in-a-template-clas" target="_blank" rel="external">explicit specialization of a template function of a templated class</a></a></li>
<li><a href="#explicit-specialization-of-a-templatge-function-of-a-classhttpsstackoverflowcomquestions3052579explicit-specialization-in-non-namespace-scope"><a href="https://stackoverflow.com/questions/3052579/explicit-specialization-in-non-namespace-scope" target="_blank" rel="external">Explicit specialization of a templatge function of a class</a></a></li>
</ul>
<!-- tocstop -->
<p>Current page: 286</p>
<h2 id="chapter-1-getting-started"><a href="#Chapter-1-getting-Started" class="headerlink" title="Chapter 1. getting Started"></a><strong>Chapter 1. getting Started</strong></h2><h3 id="11-writing-a-simple-c-program"><a href="#1-1-Writing-a-simple-c-program" class="headerlink" title="1.1 Writing a simple c++ program"></a>1.1 Writing a simple c++ program</h3><blockquote>
<ul>
<li>IDE: integrated development environment</li>
<li>use ./XX indicate our executable is in the</li>
<li>current directory (How to run program in CG)</li>
</ul>
</blockquote>
<h3 id="12-a-first-look-at-inputoutput"><a href="#1-2-A-first-look-at-Input-Output" class="headerlink" title="1.2 A first look at Input/Output"></a>1.2 A first look at Input/Output</h3><blockquote>
<ul>
<li>iostream: istream + ostream</li>
<li>standard input: cin</li>
<li>standard output: cout</li>
<li>namespace: allow us to avoid inadvertent collisions between the name we defined and uses of those same names in side library</li>
<li><p>to print out something to cmd:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt;       &lt;&lt;<span class="built_in">std</span>::<span class="built_in">endl</span>;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>to input something to cmd:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="built_in">std</span>:<span class="built_in">cin</span> &gt;&gt; XXX &gt;&gt; XX;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="13-a-word-about-comments"><a href="#1-3-A-word-about-Comments" class="headerlink" title="1.3 A word about Comments"></a>1.3 A word about Comments</h3><blockquote>
<ul>
<li>Do not nest comments. (/<em> </em>/)</li>
</ul>
</blockquote>
<h3 id="14-flow-of-control"><a href="#1-4-Flow-of-Control" class="headerlink" title="1.4 Flow of Control"></a>1.4 Flow of Control</h3><blockquote>
<ul>
<li><p>while statement:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">while</span> (){</div><div class="line">&gt; }</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>for statement:</p>
</li>
<li>end of file command : control + z (windows) command + d (linux)</li>
<li>if statement:</li>
</ul>
</blockquote>
<h3 id="15-introducing-classes"><a href="#1-5-Introducing-Classes" class="headerlink" title="1.5 Introducing Classes"></a>1.5 Introducing Classes</h3><blockquote>
<ul>
<li>test of BookStoore class<h3 id="16-th-bookstore-program"><a href="#1-6-Th-BookStore-Program" class="headerlink" title="1.6 Th BookStore Program"></a>1.6 Th BookStore Program</h3></li>
</ul>
</blockquote>
<h3 id="chapter-summary"><a href="#Chapter-Summary" class="headerlink" title="Chapter Summary"></a>Chapter Summary</h3><blockquote>
<ul>
<li>buffer: a region of storage used to hold data</li>
<li>cerr: object tied to the standard error, not buffered</li>
</ul>
</blockquote>
<h2 id="chapter-2-variables-and-basic-types"><a href="#Chapter-2-Variables-and-Basic-Types" class="headerlink" title="Chapter 2. Variables and Basic Types"></a><strong>Chapter 2. Variables and Basic Types</strong></h2><h3 id="21primitive-built-in-types"><a href="#2-1Primitive-Built-in-Types" class="headerlink" title="2.1Primitive Built-in Types"></a>2.1Primitive Built-in Types</h3><blockquote>
<ul>
<li>Arithmetic types</li>
<li>minimize size:<ul>
<li>char: 8 bits</li>
<li>int: 16 bits</li>
<li>short: 16 bits</li>
<li>long: 32 bits</li>
<li>short &lt; int &lt; long &lt; long long</li>
</ul>
</li>
<li>a bit only stores 1 or 0</li>
<li>use <code>double</code> for floating point computations; <code>float</code> usually does not have enought precision</li>
<li>Type conversion<ul>
<li>assign int to floating: truncated 3 -&gt; 3.0</li>
<li>assign an out of range value to an object of unsigned type: `unsigned char c = -1; // assuming 8 bit chars, c has value 255</li>
</ul>
</li>
<li>Escape Sequence<ul>
<li>alert(bell) : \a</li>
<li>vertical tab: \v</li>
<li>double quote: \&#x201D;</li>
<li>L&#x2019;a&#x2019; // wide character literal, type is wchar_t<ul>
<li>u8&#x201D;hi!&#x201D; // utf-8 string literal (utf-8 encodes a Unicode character in 8 bits)</li>
<li>42ULL // unsigned integer literal, type is unsigned long long</li>
<li>1E-3F // single-precision floating-point literal, type is float</li>
<li>3.14159L // extended-precision floating-point literal, type is long double</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="22-variables"><a href="#2-2-Variables" class="headerlink" title="2.2 Variables"></a>2.2 Variables</h3><blockquote>
<ul>
<li>methods to initialization<ul>
<li>int a = 0;</li>
<li>int a = {0};</li>
<li>int a(0);</li>
<li>int a{0};</li>
</ul>
</li>
<li>Uninitialized Variables may cause run-time problems</li>
<li><em>Declaration</em>: makes a name know to the program</li>
<li><em>Definition</em>: create the associated entity</li>
</ul>
</blockquote>
<h3 id="23-compound-types"><a href="#2-3-Compound-Types" class="headerlink" title="2.3 Compound Types"></a>2.3 Compound Types</h3><blockquote>
<ul>
<li>compound type: reference and pointer</li>
<li><strong>Reference</strong></li>
<li>Reference need to be initialized at the time it&#x2019;s defined and it cannot be copied.</li>
<li><p><code>&amp;</code> = reference operator, <code>\*</code> = deference operator</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt;   <span class="keyword">int</span> ival = <span class="number">1024</span>;</div><div class="line">&gt;   <span class="keyword">int</span> &amp;refVal = iVal;</div><div class="line">&gt;   <span class="keyword">int</span> &amp; refVal2; <span class="comment">// eror: a reference must be initialized</span></div><div class="line">&gt;   <span class="keyword">int</span> &amp;i = refVal; <span class="comment">//error: we can not define a reference to a reference</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
<p>Manually create an alias. Val is alias to iVal. Using &amp; to create alias.</p>
</li>
<li><strong>Pointer</strong></li>
<li>Pointer does not need to be initialized at the time it&#x2019;s defined and the can be assigned and copied.</li>
<li><p>Pointer holds the address of another object</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">int</span> ival = <span class="number">42</span>;</div><div class="line">&gt; <span class="keyword">int</span> *p = &amp;ival; <span class="comment">// p holds the address of ival; p is a pointer to ival</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>Pointer Value:</p>
<pre><code>+ point to an object
+ point to the location which just immediately past the end of an object
+ null pointer
+ valid
</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">int</span> i = <span class="number">42</span>;</div><div class="line">&gt; <span class="keyword">int</span> &amp;r = i; <span class="comment">// &amp; follows a type and is part of a declaration; r is a</span></div><div class="line">&gt; reference</div><div class="line">&gt; <span class="keyword">int</span> *p; <span class="comment">// * follows a type and is part of a declaration; p is a</span></div><div class="line">&gt; pointer</div><div class="line">&gt; p = &amp;i; <span class="comment">// &amp; is used in an expression as the address-of operator</span></div><div class="line">&gt; *p = i; <span class="comment">// * is used in an expression as the dereference operator</span></div><div class="line">&gt; <span class="keyword">int</span> &amp;r2 = *p; <span class="comment">// &amp; is part of the declaration; * is the dereference operator</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
<pre><code>+ nullptr : null pointer, which can be converted to any pointer type
+ void* can hold athe address value of any data pointer type
   + generally we use a void* pointer to deal with memory as memory
</code></pre><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;  <span class="keyword">void</span> a = &amp;bb;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>Assuming p is a pointer to int then :</p>
</li>
<li>if (p) // check if p points to null. else execute</li>
<li><p>if (*p) // check the value p points to</p>
</li>
<li><p>pointer to pointer</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">int</span> ival = <span class="number">1024</span>;</div><div class="line"><span class="keyword">int</span> *pi = &amp;ival; <span class="comment">// pi points to an int</span></div><div class="line"><span class="keyword">int</span> **ppi = &amp;pi; <span class="comment">// ppi points to a pointer to an int</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="24-const-qualifier"><a href="#2-4-const-Qualifier" class="headerlink" title="2.4 const Qualifier"></a>2.4 const Qualifier</h3><blockquote>
<ul>
<li>const is local to the file as if we have written definitions for separate variables in each file</li>
<li>To share a const object among multiple files, you must define the variable<br>as extern.</li>
<li>constant pointer VS pointer on a constant value:<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">char</span> * <span class="keyword">const</span> a;</div><div class="line">&gt; <span class="comment">//*a is writable, but a is not; in other words, you can modify the value pointed to by a, but you cannot modify a itself.  a is a constant pointer to char.</span></div><div class="line">&gt; <span class="comment">//*a = &apos;c&apos;; OK     a = &amp;b; NO</span></div><div class="line">&gt; <span class="keyword">const</span> <span class="keyword">char</span> * a; <span class="comment">// equals char const *a;</span></div><div class="line">&gt; <span class="comment">// a is writable, but *a is not; in other words, you can modify a (pointing it to a new location), but you cannot modify the value pointed to by a.</span></div><div class="line">&gt; <span class="comment">// a = &amp;b; OK *a = &apos;c&apos;; NO</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><a href="https://stackoverflow.com/questions/10091825/constant-pointer-vs-pointer-on-a-constant-value/10091869#10091869?newreg=9ad93cb387164a9fb2fbdad8d5c852ef" target="_blank" rel="external">Good example</a><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">int</span> i = <span class="number">42</span>;</div><div class="line">&gt; <span class="keyword">const</span> <span class="keyword">int</span> &amp;r1 = i; <span class="comment">// we can bind a const int&amp; to a plain int object</span></div><div class="line">&gt; <span class="keyword">const</span> <span class="keyword">int</span> &amp;r2 = <span class="number">42</span>; <span class="comment">// ok: r1 is a reference to const</span></div><div class="line">&gt; <span class="keyword">const</span> <span class="keyword">int</span> &amp;r3 = r1 * <span class="number">2</span>; <span class="comment">// ok: r3 is a reference to const</span></div><div class="line">&gt; <span class="keyword">int</span> &amp;r4 = r * <span class="number">2</span>; <span class="comment">// error: r4 is a plain, non const reference</span></div><div class="line">&gt;</div></pre></td></tr></table></figure></p>
<ul>
<li><em>constexpr</em>: declares an object as fit for use constant expressions<ul>
<li><a href="https://stackoverflow.com/questions/14116003/difference-between-constexpr-and-const" target="_blank" rel="external">constexpr vs const</a><ul>
<li>constexpr(used in member and non-member functions), the function body must be <strong>non-virtual</strong> and extremely simple - only a single return is allowed</li>
<li>const(cannot be used in static member functions)</li>
</ul>
</li>
</ul>
</li>
<li>advantage of constexpr:<ul>
<li>used in places that require compile-time evaluation: size of std::array in a template function</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="25-dealing-with-types"><a href="#2-5-Dealing-with-types" class="headerlink" title="2.5 Dealing with types"></a>2.5 Dealing with types</h3><blockquote>
<p>1st method<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; - <span class="keyword">typedef</span> <span class="keyword">double</span> wages;<span class="comment">// wages is a synonym for double</span></div><div class="line">&gt;</div></pre></td></tr></table></figure></p>
<p>2nd method<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">using</span> a = <span class="keyword">double</span>;</div><div class="line">&gt;</div></pre></td></tr></table></figure></p>
<ul>
<li><em>Auto</em> type specifier:<ul>
<li>let the compiler decide  the type for us</li>
<li>must have an initializer.</li>
<li>auto ordinarily ignores top-level consts, as usual in<br>initializations, low-level consts,detail on page 108</li>
</ul>
</li>
<li><em>decltype</em> type specifier:<ul>
<li>we want to define a variable with a type that the compiler deduces from an expression<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">decltype</span>(f()) sum = x; <span class="comment">// sum has whatever type f returns</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</blockquote>
<h5 id="251-type-alias"><a href="#2-5-1-Type-Alias" class="headerlink" title="2.5.1 Type Alias"></a>2.5.1 Type Alias</h5><blockquote>
<ul>
<li>weird part of typedef!!!!</li>
<li>typedef char <em>pstring;<br>const pstring cstr = 0; // cstr is a constant pointer to char<br>const pstring </em>ps; // ps is a pointer to a constant pointer to char</li>
<li>The base type in these declarations is const pstring. As usual, a const that appears in the base type modifies the given type. The type of pstring is &#xA1;&#xB0;pointer to char.&#xA1;&#xB1; So, const pstring is a constant pointer to char&#xA1;&#xAA;not a pointer to const char.</li>
</ul>
</blockquote>
<h3 id="26-defining-our-own-data-structures"><a href="#2-6-Defining-Our-Own-Data-Structures" class="headerlink" title="2.6 Defining Our Own Data Structures"></a>2.6 Defining Our Own Data Structures</h3><blockquote>
<ul>
<li><p><em>Struct</em>:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; Struct nameOfClass{</div><div class="line">&gt; };</div><div class="line">&gt; <span class="keyword">struct</span> Sales_data { <span class="comment">/* ... */</span> } accum, trans, *salesptr;</div><div class="line">&gt; <span class="comment">// equivalent, but better way to define these objects</span></div><div class="line">&gt; <span class="keyword">struct</span> Sales_data { <span class="comment">/* ... */</span> };</div><div class="line">&gt; Sales_data accum, trans, *salesptr;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>Preprocessor: make it safe to include a header mutiple times, which is a program runs before the compiler and changes the source text of our programs</p>
</li>
<li>fight against multiple inclusion:<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="meta">#<span class="meta-keyword">ifndef</span> SALES_DATA_H</span></div><div class="line">&gt; <span class="meta">#<span class="meta-keyword">define</span> SALES_DATA_H</span></div><div class="line">&gt; <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line">&gt; <span class="keyword">struct</span> Sales_data {</div><div class="line">&gt; <span class="built_in">std</span>::<span class="built_in">string</span> bookNo;</div><div class="line">&gt; <span class="keyword">unsigned</span> units_sold = <span class="number">0</span>;</div><div class="line">&gt; <span class="keyword">double</span> revenue = <span class="number">0.0</span>;</div><div class="line">&gt; };</div><div class="line">&gt; <span class="meta">#<span class="meta-keyword">endif</span></span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="chapter-summary"><a href="#Chapter-summary" class="headerlink" title="Chapter summary"></a>Chapter summary</h3><blockquote>
<ul>
<li>see book Page 119<br>-</li>
</ul>
</blockquote>
<h2 id="chapter3-strings-vectors-and-arrays"><a href="#Chapter3-Strings-Vectors-and-Arrays" class="headerlink" title="Chapter3. Strings, Vectors, and Arrays"></a>Chapter3. Strings, Vectors, and Arrays</h2><h3 id="31-namespace-using-declarations"><a href="#3-1-Namespace-using-Declarations" class="headerlink" title="3.1 Namespace using Declarations"></a>3.1 Namespace using Declarations</h3><blockquote>
<ul>
<li>scope operator : (::)</li>
<li><code>using</code> enables us use a name from a namespace without qualifying the name with a  namespace_name:: prefix. for instance:<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&gt; - #include &lt;iostream&gt;</div><div class="line">&gt; // using declaration; when we use the name cin, we get the one from the &gt; namespace   PS: save a lot of efforts!</div><div class="line">&gt; std</div><div class="line">&gt; using std::cin;</div><div class="line">&gt; int main()</div><div class="line">&gt; {</div><div class="line">&gt; int i;</div><div class="line">&gt; cin &gt;&gt; i; // ok: cin is a synonym for std::cin</div><div class="line">&gt; cout &lt;&lt; i; // error: no using declaration; we must use the full name</div><div class="line">&gt; std::cout &lt;&lt; i; // ok: explicitly use cout from namepsace std</div><div class="line">&gt; return 0;</div><div class="line">&gt; }</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="32-library-string-type"><a href="#3-2-Library-string-type" class="headerlink" title="3.2 Library string type"></a>3.2 Library string type</h3><blockquote>
<ul>
<li><p><code>Declaration of string</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</div><div class="line">&gt; <span class="built_in">string</span> s1; <span class="comment">// default initialization; s1 is the empty string</span></div><div class="line">&gt; <span class="built_in">string</span> s2 = s1; <span class="comment">// s2 is a copy of s1</span></div><div class="line">&gt; <span class="built_in">string</span> s3 = <span class="string">&quot;hiya&quot;</span>; <span class="comment">// s3 is a copy of the string literal</span></div><div class="line">&gt; <span class="function"><span class="built_in">string</span> <span class="title">s4</span><span class="params">(<span class="number">10</span>, <span class="string">&apos;c&apos;</span>)</span></span>; <span class="comment">// s4 is cccccccccc</span></div><div class="line">&gt; - `Operations on strings`</div><div class="line">&gt;  [<span class="built_in">string</span> operations](http:<span class="comment">//7xklst.com1.z0.glb.clouddn.com/string_operationstring_operation.png)</span></div><div class="line">&gt;  - * the <span class="built_in">string</span> operation reads characters until the next whitespace character is encounterd.*</div><div class="line">&gt;  - To solve <span class="keyword">this</span> problem, we need:</div><div class="line">&gt;  ```C++</div><div class="line">&gt; <span class="built_in">string</span> s1, s2;</div><div class="line">&gt; <span class="built_in">cin</span> &gt;&gt; s1 &gt;&gt; s2; <span class="comment">// read first input into s1, second into s2</span></div><div class="line">&gt; <span class="built_in">cout</span> &lt;&lt; s1 &lt;&lt; s2 &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// write both strings</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
<ul>
<li><p><code>Read unknown number of word (omit the whitespace)</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="built_in">string</span> word;</div><div class="line">&gt; <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; word) <span class="comment">// read until end-of-file</span></div><div class="line">&gt; <span class="built_in">cout</span> &lt;&lt; word &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// write each word followed by a new line</span></div><div class="line">&gt; <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>To measure the length of string: we use <code>string::size_type</code></p>
<ul>
<li>else,we can use auto or decltype insteand</li>
</ul>
</li>
</ul>
</li>
<li><code>string comparison</code><ul>
<li>==, !=, &gt;, &lt;, &lt;=, &gt;=</li>
<li>compare rules: page:132</li>
</ul>
</li>
<li><p><code>rules of adding strings</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="built_in">string</span> s1 = <span class="string">&quot;hello&quot;</span>;</div><div class="line">&gt; <span class="built_in">string</span> s4 = s1 + <span class="string">&quot;, &quot;</span>; <span class="comment">// ok: adding a string and a literal</span></div><div class="line">&gt; <span class="built_in">string</span> s5 = <span class="string">&quot;hello&quot;</span> + <span class="string">&quot;, &quot;</span>; <span class="comment">// error: no string operand</span></div><div class="line">&gt; <span class="built_in">string</span> s6 = s1 + <span class="string">&quot;, &quot;</span> + <span class="string">&quot;world&quot;</span>; <span class="comment">// ok: each + has a string operand</span></div><div class="line">&gt; <span class="built_in">string</span> s7 = <span class="string">&quot;hello&quot;</span> + <span class="string">&quot;, &quot;</span> + s2; <span class="comment">// error: can&apos;t add string literals</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>When we mix strings and string or character literals, at least one operand to each</p>
</li>
</ul>
<ul>
<li>operator must be of string type<h4 id="323-dealing-with-the-characters-in-a-string"><a href="#3-2-3-dealing-with-the-characters-in-a-string" class="headerlink" title="3.2.3 dealing with the characters in a string"></a>3.2.3 dealing with the characters in a string</h4><em>processing characters is knowing and changing the characteristics of a character</em><br><img src="http://7xklst.com1.z0.glb.clouddn.com/bitwiseNotOperatorbitwiseNotOperator.png" alt="cctype header"><ul>
<li><strong>Processing every character </strong><ul>
<li>using <em>range for</em> statement<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">str</span><span class="params">(<span class="string">&quot;some string&quot;</span>)</span></span>;</div><div class="line"><span class="comment">// print the characters in str one character to a line</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> c : str) <span class="comment">// for every char in str</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; c &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// print the current character followed by a newline</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>count the number of punctuation</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">s</span><span class="params">(<span class="string">&quot;Hello World!!!&quot;</span>)</span></span>;</div><div class="line"><span class="comment">// punct_cnt has the same type that s.size returns; see &#xC2;&#xA1;&#xC3;&#xAC; 2.5.3 (p. 70)</span></div><div class="line"><span class="keyword">decltype</span>(s.size()) punct_cnt = <span class="number">0</span>;</div><div class="line"><span class="comment">// count the number of punctuation characters in s</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> c : s) <span class="comment">// for every char in s</span></div><div class="line"><span class="keyword">if</span> (<span class="built_in">ispunct</span>(c)) <span class="comment">// if the character is punctuation</span></div><div class="line">++punct_cnt; <span class="comment">// increment the punctuation counter</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; punct_cnt</div><div class="line">&lt;&lt; <span class="string">&quot; punctuation characters in &quot;</span> &lt;&lt; s &lt;&lt; <span class="built_in">endl</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>change the value of the character in a string</p>
<ul>
<li><code>define the loop variable as areference type</code></li>
<li>for (auto &amp;c:s)</li>
</ul>
</li>
<li>processing some of the characters (not all of them)<ul>
<li>first way: subscript<br>[0] for the first char, [s.size() - 1] for the last char<br><em>when using [0], check the emptyness first!</em></li>
<li>second way: iterator</li>
</ul>
</li>
<li><code>Single quotes are for a single character. Double quotes are for a string (array of characters).</code></li>
</ul>
</blockquote>
<h3 id="33-library-vector-type"><a href="#3-3-Library-vector-type" class="headerlink" title="3.3 Library vector type"></a>3.3 Library vector type</h3><blockquote>
<ul>
<li>definition: vector is a collection of objects, its referred to as a <code>container</code><ul>
<li>A vector is a class <code>template</code></li>
<li>create classes or functions from templates is called <code>instantiation</code><br>+</li>
</ul>
</li>
<li>usage:<ul>
<li>include needed header<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; myNum; <span class="comment">// myNum hlods aobjects of type int</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="331-defining-and-initializing-vectors"><a href="#3-3-1-Defining-and-Initializing-vectors" class="headerlink" title="3.3.1 Defining and Initializing vectors"></a>3.3.1 Defining and Initializing vectors</h4><blockquote>
<ul>
<li>creating a vector hold objects as vector<ul>
<li>vector<vector<type> &gt;  // a space in the last is better, because the old c++ use that style</vector<type></li>
</ul>
</li>
<li>how to define a vector</li>
<li><img src="http://7xklst.com1.z0.glb.clouddn.com/defineVectordefineVector.png" alt="define vector"></li>
<li><p>specify the size of the vector:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ivec(<span class="number">10</span>); <span class="comment">// ten elements, each initialized to 0</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; svec(<span class="number">10</span>); <span class="comment">// ten elements,each an empty string.</span></div></pre></td></tr></table></figure>
<ul>
<li>for initialization of the vector, we must supply an initial emement value to it.</li>
</ul>
</li>
<li>confusion about initialization:<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v1(<span class="number">10</span>); <span class="comment">// v1 has ten elements with value 0</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v2{<span class="number">10</span>}; <span class="comment">// v2 has one element with value 10</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v3(<span class="number">10</span>, <span class="number">1</span>); <span class="comment">// v3 has ten elements with value 1</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v4{<span class="number">10</span>, <span class="number">1</span>}; <span class="comment">// v4 has two elements with values 10 and 1</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi(<span class="number">10</span>); <span class="comment">// ok vector has ten elements with 0</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi = <span class="number">10</span>; <span class="comment">// error: must use direct initialization to supply a size</span></div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="332-adding-elements-to-a-vector"><a href="#3-3-2-Adding-elements-to-a-vector" class="headerlink" title="3.3.2 Adding elements to a vector"></a>3.3.2 Adding elements to a vector</h4><blockquote>
<ul>
<li><strong>push_back</strong>: add elements at run time<h4 id="333-other-vector-operations"><a href="#3-3-3-Other-vector-Operations" class="headerlink" title="3.3.3 Other vector Operations"></a>3.3.3 Other vector Operations</h4></li>
<li><img src="http://7xklst.com1.z0.glb.clouddn.com/vectorOperationsvectorOperations.png" alt="vectoroperations"></li>
<li><em>the subscript operator on vector(and string) fetches an existing element; it does not add an element</em><ul>
<li>so if the vector is empty, you can not use a[5] = 5; to assign values.</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="34-introducing-iterators"><a href="#3-4-Introducing-iterators" class="headerlink" title="3.4 Introducing iterators"></a>3.4 Introducing iterators</h3><blockquote>
<ul>
<li>Normally we use iterator to access the characters of a string or the elements in a vector<h4 id="341-using-iterators"><a href="#3-4-1-Using-iterators" class="headerlink" title="3.4.1 Using iterators"></a>3.4.1 Using iterators</h4></li>
<li>auto b = v.begin(),e = v.end(); // b and e have the same type<ul>
<li><code>Note</code>: IF the container is empty, the iterators returned by begin and end are equal- they are both off-the-end iterators</li>
</ul>
</li>
<li><p><img src="http://7xklst.com1.z0.glb.clouddn.com/standard%20container%20iterator%20operationstandard%20container%20iterator%20operation.png" alt="standard container iterator operation"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">s</span><span class="params">(<span class="string">&quot;some string&quot;</span>)</span></span>;</div><div class="line"><span class="keyword">if</span> (s.begin() != s.end()) { <span class="comment">// make sure s is not empty</span></div><div class="line"><span class="keyword">auto</span> it = s.begin(); <span class="comment">// it denotes the first character in s</span></div><div class="line">*it = <span class="built_in">toupper</span>(*it); <span class="comment">// make that character uppercase</span></div><div class="line">}</div></pre></td></tr></table></figure>
</li>
<li><p>for most iterator, we do not have the &#x201C;&lt;&#x201D; operation. So we used &#x201C;!=&#x201D;</p>
</li>
<li>know whether a given element is empty:<ul>
<li>(*it).empty() // it is an iterator into this vector</li>
</ul>
</li>
<li>it-&gt;item(it is a pointer) = (*it).item</li>
<li>usage example<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it = text.cbegin();</div><div class="line">it != text.cend() &amp;&amp; !it-&gt;empty(); ++it)</div><div class="line"><span class="built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="built_in">endl</span>;</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="342-iterator-arithmetic"><a href="#3-4-2-Iterator-Arithmetic" class="headerlink" title="3.4.2 Iterator Arithmetic"></a>3.4.2 Iterator Arithmetic</h4><blockquote>
<ul>
<li>Operate arithemetic operation on iterator</li>
<li>begin() + end () is meaningless. Such operator does not exist.</li>
</ul>
</blockquote>
<h3 id="35-arrays"><a href="#3-5-Arrays" class="headerlink" title="3.5 Arrays"></a>3.5 Arrays</h3><blockquote>
<ul>
<li>Similar to vector, but offers a different trade-off between performance and flexibility.</li>
<li><strong>size is fixed</strong></li>
<li>better run-time performance<h4 id="351-defining-and-initializing-built-in-arrays"><a href="#3-5-1-Defining-and-Initializing-Built-in-Arrays" class="headerlink" title="3.5.1 Defining and Initializing Built-in Arrays"></a>3.5.1 Defining and Initializing Built-in Arrays</h4></li>
<li>it a3[5] = {0,1,2} // equivalent to a 3[] = {0,1,2,0,0}</li>
<li>int a5[2] = {0,1,2} // error :too many initializers</li>
<li>character arrays: <code>end with a null character!</code></li>
<li><p>cannot initialize an array from another array or exceed the size.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&gt; - in order to let <span class="keyword">char</span> contain <span class="string">&apos; &apos;</span>,<span class="string">&apos;\t&apos;</span>,<span class="string">&apos;\n&apos;</span>,use **<span class="built_in">std</span>::noskipws**</div><div class="line"><span class="keyword">char</span> a1[] = {<span class="string">&apos;C&apos;</span>, <span class="string">&apos;+&apos;</span>, <span class="string">&apos;+&apos;</span>}; <span class="comment">// list initialization, no null</span></div><div class="line"><span class="keyword">char</span> a2[] = {<span class="string">&apos;C&apos;</span>, <span class="string">&apos;+&apos;</span>, <span class="string">&apos;+&apos;</span>, <span class="string">&apos;\0&apos;</span>}; <span class="comment">// list initialization, explicit null</span></div><div class="line"><span class="keyword">char</span> a3[] = <span class="string">&quot;C++&quot;</span>; <span class="comment">// *null terminator added</span></div><div class="line">automatically*</div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> a4[<span class="number">6</span>] = <span class="string">&quot;Daniel&quot;</span>; <span class="comment">// error: no space for the null!</span></div><div class="line"><span class="keyword">int</span> a[] = {<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>}; <span class="comment">// array of three ints</span></div><div class="line"><span class="keyword">int</span> a2[] = a; <span class="comment">// error: cannot initialize one array with another</span></div><div class="line">a2 = a; <span class="comment">// error: cannot assign one array to another</span></div></pre></td></tr></table></figure>
</li>
<li><p><em>interesting example</em></p>
</li>
<li>int *(&amp;arry)[10] = ptrs; // arry is a reference to an array of ten pointers</li>
</ul>
</blockquote>
<h4 id="352-accessing-the-elements-of-an-array"><a href="#3-5-2-Accessing-the-elements-of-an-array" class="headerlink" title="3.5.2 Accessing the elements of an array"></a>3.5.2 Accessing the elements of an array</h4><h4 id="353-poiners-and-arrays"><a href="#3-5-3-poiners-and-arrays" class="headerlink" title="3.5.3 poiners and arrays"></a>3.5.3 poiners and arrays</h4><blockquote>
<ul>
<li>pointers and arrays are closely interwined.</li>
<li><em>in most expressions, when we use an object of array type, we are really using a pointer to the first element in that array</em></li>
<li>string *p2 = nums; // equivalent to p2 = &amp;nums[0]</li>
<li><p>pointers are iterators</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> arr[] = {<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>};</div><div class="line"><span class="keyword">int</span> *p = arr; <span class="comment">// p points to the first element in arr</span></div><div class="line">++p; <span class="comment">// p points to arr[1]</span></div></pre></td></tr></table></figure>
</li>
<li><p>begin and end in array : (not present as a class member type)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> ia[] = {<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>}; <span class="comment">// ia is an array of ten ints</span></div><div class="line"><span class="keyword">int</span> *beg = begin(ia); <span class="comment">// pointer to the first element in ia</span></div><div class="line"><span class="keyword">int</span> *last = end(ia); <span class="comment">// pointer one past the last element in ia</span></div></pre></td></tr></table></figure>
</li>
<li><p>compare pointers of one array</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> *b = arr, *e = arr + sz; <span class="comment">// sz is the size</span></div><div class="line"><span class="keyword">while</span> (b &lt; e) {</div><div class="line"><span class="comment">// use *b</span></div><div class="line">++b;</div><div class="line">}</div><div class="line"><span class="keyword">int</span> ia[] = {<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>}; <span class="comment">// array with 5 elements of type int</span></div><div class="line"><span class="keyword">int</span> last = *(ia + <span class="number">4</span>); <span class="comment">// ok: initializes last to 8, the value of ia[4]</span></div></pre></td></tr></table></figure>
</li>
<li><p>interesting example</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> i = ia[<span class="number">2</span>]; <span class="comment">// ia is converted to a pointer to the first element in ia</span></div><div class="line"><span class="comment">// ia[2] fetches the element to which (ia + 2) points</span></div><div class="line"><span class="keyword">int</span> *p = ia; <span class="comment">// p points to the first element in ia</span></div><div class="line">i = *(p + <span class="number">2</span>); <span class="comment">// equivalent to i = ia[2]</span></div><div class="line"><span class="keyword">int</span> *p = &amp;ia[<span class="number">2</span>]; <span class="comment">// p points to the element indexed by 2</span></div><div class="line"><span class="comment">// ! *attention!!!*</span></div><div class="line"><span class="keyword">int</span> j = p[<span class="number">1</span>]; <span class="comment">// p[1] is equivalent to *(p + 1),</span></div><div class="line"><span class="comment">// p[1] is the same element as ia[3]</span></div><div class="line"><span class="keyword">int</span> k = p[<span class="number">-2</span>]; <span class="comment">// p[-2] is the same element as ia[0]</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>bear in mind:</strong></p>
</li>
<li>int <em>b = arr,</em>e = arr+3; b <e is="" comparing="" their="" index="" in="" the="" array,="" *b="=*"> - e is comparing the object they are pointing to</e></li>
</ul>
</blockquote>
<h4 id="354-c-style-character-strings"><a href="#3-5-4-C-style-character-strings" class="headerlink" title="3.5.4 C-style character strings"></a>3.5.4 C-style character strings</h4><blockquote>
<ul>
<li>end with a numm termination</li>
<li>C-style character string functions<ul>
<li>strlen(p): returns the length of p(not counting null)</li>
<li>strcmp(p1,p2): Compares p1 and p2 for equality. Returns 0 if p1 ==p2, a position value of p1&gt;p2, a negative value if p1&lt;p2</li>
<li>strcat(p1,p2): Appends p2 to p1,return p1</li>
<li>strcpy(p1,p2): Copies p2 into p1.Returns p1.</li>
</ul>
</li>
<li><p><code>Importance of null terminator</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">char</span> ca[] = {<span class="string">&apos;C&apos;</span>, <span class="string">&apos;+&apos;</span>, <span class="string">&apos;+&apos;</span>}; <span class="comment">// not null terminated</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">strlen</span>(ca) &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// disaster: ca isn&apos;t null terminated</span></div></pre></td></tr></table></figure>
</li>
<li><p>initialization:</p>
<ul>
<li>const char cstr1[]=&#x201D;Hello&#x201D;;</li>
<li>const char cstr1[]={&#x2018;H&#x2019;,&#x2019;e&#x2019;,&#x2019;l&#x2019;,&#x2019;l&#x2019;,&#x2019;o&#x2019;,&#x2019;\0&#x2019;}</li>
</ul>
</li>
<li><p>You can not initialize a char* from a string</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="built_in">string</span> <span class="title">s</span><span class="params">(<span class="string">&quot;hellow world&quot;</span>)</span></span>;</div><div class="line"><span class="keyword">char</span> *str = s; <span class="comment">// error can&apos;t initialize a char* from a string</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">char</span> *str = s.c_str(); <span class="comment">// OK</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>We can not initialzie a built-in array from another array, nor can we initialize an array from a vector</code></p>
</li>
<li><p>But  we can use an array to initialize a vector</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> int_arr[] = {<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>};</div><div class="line"><span class="comment">// ivec has six elements; each is a copy of the corresponding element in int_arr</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ivec(begin(int_arr), end(int_arr));</div><div class="line"><span class="comment">// copies three elements: int_arr[1], int_arr[2], int_arr[3]</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; subVec(int_arr + <span class="number">1</span>, int_arr + <span class="number">4</span>);</div><div class="line">This initialization creates subVec with three elements. The values of these elements</div><div class="line">are copies of the values in int_arr[<span class="number">1</span>] through int_arr[<span class="number">3</span>].</div></pre></td></tr></table></figure>
</li>
<li><p>For a modern C++ programmer, you should use <em>vectors and iterators</em> instead of <em>built in arrays and pointers</em>,strings rather than <em>C-style array-based character strings</em></p>
</li>
<li><p><code>Nice example importance of pointer</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">char</span> array1[](<span class="string">&quot;LBTING&quot;</span>);</div><div class="line">    <span class="keyword">char</span> *p = array1;</div><div class="line">    <span class="keyword">while</span> (p){</div><div class="line">        <span class="comment">// error! never stop the while! you should use *p</span></div><div class="line">        <span class="built_in">cout</span> &lt;&lt; *p &lt;&lt; <span class="string">&quot; &quot;</span>;</div><div class="line">        ++p;</div><div class="line">    }</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="36-multidimensional-arrays"><a href="#3-6-Multidimensional-Arrays" class="headerlink" title="3.6 Multidimensional Arrays"></a>3.6 Multidimensional Arrays</h4><blockquote>
<ul>
<li><p>initialization:</p>
<ul>
<li>int ia[3] [4];// array of size 3; each element is an array of ints of size 4</li>
<li>in a 2 dimensional array, the first dimension is usually referred to as the row and the second as the column<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> ia[<span class="number">3</span>][<span class="number">4</span>] = { <span class="comment">// three elements; each element is an array of size 4</span></div><div class="line">{<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>}, <span class="comment">// initializers for the row indexed by 0</span></div><div class="line">{<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>}, <span class="comment">// initializers for the row indexed by 1</span></div><div class="line">{<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>} <span class="comment">// initializers for the row indexed by 2</span></div><div class="line">};</div><div class="line"><span class="comment">// explicitly initialize only element 0 in each row</span></div><div class="line"><span class="keyword">int</span> ia[<span class="number">3</span>][<span class="number">4</span>] = {{ <span class="number">0</span> }, { <span class="number">4</span> }, { <span class="number">8</span> }};</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>assigning values to nest array</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">constexpr</span> <span class="keyword">size_t</span> rowCnt = <span class="number">3</span>, colCnt = <span class="number">4</span>;</div><div class="line"><span class="keyword">int</span> ia[rowCnt][colCnt]; <span class="comment">// 12 uninitialized elements</span></div><div class="line"><span class="comment">// for each row</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i != rowCnt; ++i) {</div><div class="line">    <span class="comment">// for each column within the row</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> j = <span class="number">0</span>; j != colCnt; ++j) {</div><div class="line">        <span class="comment">// assign the element&apos;s positional index as its value</span></div><div class="line">        ia[i][j] = i * colCnt + j;</div><div class="line">}</div><div class="line">}</div><div class="line"><span class="comment">//another way of doing the same thing</span></div><div class="line"><span class="keyword">size_t</span> cnt = <span class="number">0</span>;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> &amp;row : ia) <span class="comment">// for every element in the outer array</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;col : row) { <span class="comment">// for every element in the inner array</span></div><div class="line">    col = cnt; <span class="comment">// give this element the next value</span></div><div class="line">++cnt; <span class="comment">// increment cnt</span></div><div class="line">}</div></pre></td></tr></table></figure>
</li>
<li><p>how to loop through the nested array! book P183</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;row : ia) <span class="comment">// for every element in the outer array</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> col : row) <span class="comment">// for every element in the inner array</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; col &lt;&lt; <span class="built_in">endl</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>Chapter Summary:</p>
<ul>
<li>the explanation of the term in Chapter 3</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="chapter-4-expressions"><a href="#Chapter-4-Expressions" class="headerlink" title="Chapter 4. Expressions"></a>Chapter 4. Expressions</h2><h3 id="41-fundamentals"><a href="#4-1-Fundamentals" class="headerlink" title="4.1 Fundamentals"></a>4.1 Fundamentals</h3><blockquote>
<ul>
<li>overloaded operators: such definitions give an alternative meaning to an existing operator symbol</li>
<li>compound expression: an expression with two or more operators</li>
<li>precedence(multiply, divide) &amp; associativity(add)</li>
<li><p>undefined behavior:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line"><span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; ++i &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// undefined</span></div></pre></td></tr></table></figure>
</li>
<li><p>four operators that <em>gurantee</em> the order where operands are evaluated</p>
</li>
<li>AND(&amp;&amp;), AND(||),CONDITIONAL(?:), COMMA(,)</li>
<li>unary plus&amp; addition&amp;subtraction operators<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> i = <span class="number">1024</span>;</div><div class="line"><span class="keyword">int</span> k = -i; <span class="comment">// i is -1024</span></div><div class="line"><span class="keyword">bool</span> b = <span class="literal">true</span>;</div><div class="line"><span class="keyword">bool</span> b2 = -b; <span class="comment">// b2 is true! (1 and -1 are both true)</span></div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="42-arithmetic-operators"><a href="#4-2-Arithmetic-Operators" class="headerlink" title="4.2 Arithmetic Operators"></a>4.2 Arithmetic Operators</h3><blockquote>
<ul>
<li>rules:<ul>
<li>(-m)/n and m/(-n) is always equal to -(m/n)</li>
<li>m%(-n) = m&amp;n</li>
<li>(-m)&amp; n = -(m&amp;n)</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="43-logical-and-relational-operators"><a href="#4-3-Logical-and-Relational-Operators" class="headerlink" title="4.3 Logical and Relational Operators"></a>4.3 Logical and Relational Operators</h3><blockquote>
<ul>
<li>i != j &lt; k is equivalent to i != (j &lt; k).<br>-<h3 id="44-assignment-operators"><a href="#4-4-Assignment-operators" class="headerlink" title="4.4 Assignment operators"></a>4.4 Assignment operators</h3></li>
<li>Assignment has lower precedence than the relational operators<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//asign order matters!</span></div><div class="line"><span class="keyword">int</span> i;   <span class="keyword">double</span> d;</div><div class="line">d = i = <span class="number">3.5</span>; <span class="comment">// i = 3, d = 3.0</span></div><div class="line">i = d = <span class="number">3.5</span>; <span class="comment">// d = 3.5, i = 3</span></div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="45-increment-and-decrement-operators"><a href="#4-5-Increment-and-Decrement-Operators" class="headerlink" title="4.5 Increment and Decrement Operators"></a>4.5 Increment and Decrement Operators</h3><blockquote>
<ul>
<li>prefix: change the operand and the object</li>
<li><p>postfix: only change the operand but copy the unchanged value as a result</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> i = <span class="number">0</span>, j;</div><div class="line">j = ++i; <span class="comment">// j = 1, i = 1: prefix yields the incremented value</span></div><div class="line">j = i++; <span class="comment">// j = 1, i = 2: postfix yields the unincremented value</span></div></pre></td></tr></table></figure>
</li>
<li><p>order of evaluation examples</p>
</li>
<li>first (++) then (.), then (*)<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">i = ++i + i++; <span class="comment">// undefined behavior</span></div><div class="line">i = i++ + <span class="number">1</span>; <span class="comment">// undefined behavior (but i = ++i + 1; is well-defined)</span></div><div class="line">f(++i, ++i); <span class="comment">// undefined behavior</span></div><div class="line">f(i = <span class="number">-1</span>, i = <span class="number">-1</span>); <span class="comment">// undefined behavior</span></div><div class="line">ptr != <span class="number">0</span> &amp;&amp; *ptr++  <span class="comment">// check ptr is not a nullptr, and then check the pointer value.</span></div><div class="line">ival++ &amp;&amp; ival <span class="comment">// check ival, and then check ival+1 whether equal zero.</span></div><div class="line">vec[ival++] &lt;= vec[ival] <span class="comment">// incorrect. It is an **undefined behavior.**</span></div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="46-the-mumber-access-operators"><a href="#4-6-The-Mumber-Access-Operators" class="headerlink" title="4.6 The Mumber Access Operators"></a>4.6 The Mumber Access Operators</h3><blockquote>
<ul>
<li>dot operator: fectches a member from an object of class type</li>
<li>ptr-&gt;mem is a synonym for (*ptr).mem</li>
</ul>
</blockquote>
<p>PS:</p>
<blockquote>
<ul>
<li>angle brackets: &lt;&gt;</li>
<li>curly brackets: {}</li>
<li>parentheses: ()</li>
<li>operand: the target you want to operate on</li>
</ul>
</blockquote>
<h3 id="47-the-conditional-operator"><a href="#4-7-The-Conditional-Operator" class="headerlink" title="4.7 The Conditional Operator"></a>4.7 The Conditional Operator</h3><blockquote>
<ul>
<li>cond ? expr1 : expr 2</li>
<li>you can nest conditional operations:<ul>
<li>finalgrade = (grade &gt; 90) ? &#x201C;high pass&#x201D; : (grade &lt; 60) ? &#x201C;fail&#x201D; : &#x201C;pass&#x201D;;</li>
</ul>
</li>
<li>use them in an output expression</li>
<li>don&#x2019;t forget about the parenthesis<ul>
<li>cout &lt;&lt; ((grade &lt; 60) ? &#x201C;fail&#x201D; : &#x201C;pass&#x201D;); // prints pass or fail</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="48-the-bitwise-operators"><a href="#4-8-The-Bitwise-Operators" class="headerlink" title="4.8 The Bitwise Operators"></a>4.8 The Bitwise Operators</h3><blockquote>
<ul>
<li>bit Operators    &amp;      Function       &amp;    Use</li>
<li>~              bitwise not            ~expr</li>
<li>&lt;&lt;              left shift           expr1 &lt;&lt; expr2</li>
<li><blockquote>
<blockquote>
<pre><code>right shift           expr1 &gt;&gt; expr2
</code></pre></blockquote>
</blockquote>
</li>
<li>&amp;                bitwise AND                expr1 &amp; expr2</li>
<li>^                bitwise XOR           expr1 ^ expr2</li>
<li>|                bitwise or            expr1 | expr2</li>
<li>The bits are shifted left (&lt;&lt;) or right (&gt;&gt;). Bits that are shifted off the end are discarded.</li>
<li>NOT oerator <code>~</code>:<ul>
<li>generates a new value with the bits of its operand inverted.</li>
<li><img src="http://7xklst.com1.z0.glb.clouddn.com/bitwiseAndOrXorbitwiseAndOrXor.png" alt="not operator"></li>
</ul>
</li>
<li>Bitwise <code>AND</code>, <code>OR</code>, and <code>XOR</code> operators:<ul>
<li><img src="http://7xklst.com1.z0.glb.clouddn.com/bitwiseAndOrXorbitwiseAndOrXor.png" alt="pictures"></li>
</ul>
</li>
<li>Interesting example P215</li>
<li><a href="http://stackoverflow.com/questions/11055834/what-does-double-angle-brackets-mean-in-c-c-enum" target="_blank" rel="external">bit shift operator &lt;&lt; &gt;&gt;</a><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">signed integer (an int for example):</div><div class="line">0x80 or 10000000</div><div class="line">0x80 &gt;&gt; 7 = 11111111</div><div class="line">0x10 or 00010000</div><div class="line">0x10 &gt;&gt; 4 = 00000001</div><div class="line">if its unsigned (a uint):</div><div class="line">0x80 or 10000000</div><div class="line">0x80 &gt;&gt; 7 = 00000001</div><div class="line">0x10 or 00010000</div><div class="line">0x10 &gt;&gt; 4 = 00000001</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="49-the-sizeof-operator"><a href="#4-9-the-sizeof-Operator" class="headerlink" title="4.9 the sizeof Operator"></a>4.9 the <em>sizeof</em> Operator</h3><blockquote>
<ul>
<li>: it return the size(in bytes) of an expression or a type name</li>
<li><img src="http://7xklst.com1.z0.glb.clouddn.com/resultOfSizeOf.pngresultOfSizeOf.png" alt="resultOfsizeOf"></li>
</ul>
</blockquote>
<h3 id="410-comma-operator"><a href="#4-10-Comma-Operator" class="headerlink" title="4.10 Comma Operator"></a>4.10 Comma Operator</h3><blockquote>
<ul>
<li>:take two operands, which it evaluates from left to right.</li>
<li>for ( siz_t i = 0; i != 10; ++i,&#x2013;t)<br>-</li>
</ul>
</blockquote>
<h4 id="411-type-conversions"><a href="#4-11-Type-Conversions" class="headerlink" title="4.11 Type Conversions"></a>4.11 Type Conversions</h4><blockquote>
<ul>
<li>: two types are related if there is a conversion between them.(int add double)</li>
<li>many examples here. P 222</li>
<li><p><strong>Pointer Const Conversions</strong>: we can convert a pointer to a nonconst type to a pointer to the corresponding <em>const</em> type, and similarly for references. That is ,if T is a type,we can convert a pointer or a reference to T into a pointer or reference to <em>const T</em>,respectively.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> i;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;j = i; <span class="comment">// convert a nonconst to a reference to const int</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> *p = &amp;i; <span class="comment">// convert address of a nonconst to the address of a const</span></div><div class="line"><span class="keyword">int</span> &amp;r = j, *q = p; <span class="comment">// error: conversion from const to nonconst not allowed</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>cast</code>: a way to request an explicit conversion.</p>
</li>
<li>example: double slope = static_cast<double>(j) / i;<ul>
<li>A <em>static_cst</em> is often useful informing that both the reader and the compiler are aware of and not concerned about the ptential loss of precision.</li>
<li>you can use it to change const!!! (<em>const_cast</em>)<br>-<h4 id="chapter-summary"><a href="#Chapter-Summary-1" class="headerlink" title="Chapter Summary"></a>Chapter Summary</h4></li>
</ul>
</double></li>
<li>P 230</li>
</ul>
</blockquote>
<h2 id="chapter-5-statements"><a href="#Chapter-5-Statements" class="headerlink" title="Chapter 5. Statements"></a><strong>Chapter 5. Statements</strong></h2><h3 id="51-simple-statements"><a href="#5-1-Simple-Statements" class="headerlink" title="5.1 Simple Statements"></a>5.1 Simple Statements</h3><blockquote>
<ul>
<li>Null Statement:<br>  -tt;// null statement</li>
<li>Compund Statement:<ul>
<li>as a <code>block</code>, is a sequence of statements and declarations surrounded by a pair of curly braces.</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="52-statement-scope"><a href="#5-2-Statement-Scope" class="headerlink" title="5.2 Statement Scope"></a>5.2 Statement Scope</h3><blockquote>
<ul>
<li>Variables defined in the control structure are visible only within that statement and are out of scope after the statement ends</li>
</ul>
</blockquote>
<h3 id="53-conditional-statements"><a href="#5-3-Conditional-Statements" class="headerlink" title="5.3 Conditional Statements"></a>5.3 Conditional Statements</h3><h4 id="532-the-switch-statement"><a href="#5-3-2-The-switch-Statement" class="headerlink" title="5.3.2 The switch Statement"></a>5.3.2 The <em>switch</em> Statement</h4><blockquote>
<ul>
<li><p>execution continues normally from the statement through the end of the <code>switch</code> or a <code>break</code> statement.(do not execute other cases)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">switc(condition){</div><div class="line">    <span class="keyword">case</span> XXX:</div><div class="line">        term;</div><div class="line">    <span class="keyword">case</span> XXX:</div><div class="line">        term;</div><div class="line">}</div></pre></td></tr></table></figure>
</li>
<li><p>list all cases:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">switch</span> (ch)</div><div class="line">{</div><div class="line"><span class="comment">// alternative legal syntax</span></div><div class="line"><span class="keyword">case</span> <span class="string">&apos;a&apos;</span>: <span class="keyword">case</span> <span class="string">&apos;e&apos;</span>: <span class="keyword">case</span> <span class="string">&apos;i&apos;</span>: <span class="keyword">case</span> <span class="string">&apos;o&apos;</span>: <span class="keyword">case</span> <span class="string">&apos;u&apos;</span>:</div><div class="line">++vowelCnt;</div><div class="line"><span class="keyword">break</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
</li>
<li><p><code>default</code> label</p>
<ul>
<li>execute when no case label matches the value of the switch expression<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">    <span class="keyword">default</span>:</div><div class="line">        term;</div><div class="line">`</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="541-the-while-statement"><a href="#5-4-1-The-while-statement" class="headerlink" title="5.4.1 The while statement"></a>5.4.1 The <em>while</em> statement</h4><h4 id="542-traditional-for-statement"><a href="#5-4-2-Traditional-for-Statement" class="headerlink" title="5.4.2 Traditional for Statement"></a>5.4.2 Traditional <em>for</em> Statement</h4><blockquote>
<ul>
<li>for (init-statement;condition;expression)<ul>
<li>statement</li>
</ul>
</li>
<li>order of evaluation</li>
<li><ol>
<li>init-statement</li>
</ol>
</li>
<li><ol>
<li>condition</li>
</ol>
</li>
<li><ol>
<li>statement</li>
</ol>
</li>
<li><ol>
<li>expression</li>
</ol>
</li>
<li>using NULL statement<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>st</div><div class="line"><span class="keyword">auto</span> beg = v.begin();</div><div class="line"><span class="keyword">for</span> ( <span class="comment">/* null */</span>; beg != v.end() &amp;&amp; *beg &gt;= <span class="number">0</span>; ++beg)</div><div class="line">; <span class="comment">// no work to do</span></div><div class="line"><span class="number">2</span>nd</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i; <span class="built_in">cin</span> &gt;&gt; i; <span class="comment">/* no expression */</span> )</div><div class="line">v.push_back(i);</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="543-range-for-statement"><a href="#5-4-3-Range-for-statement" class="headerlink" title="5.4.3 Range for statement"></a>5.4.3 Range for statement</h4><blockquote>
<ul>
<li>used for iterate through the elements of a container or other sequence</li>
<li>for (declaration : expression)<ul>
<li>statement</li>
</ul>
</li>
<li>On each iteration, the control variable is defined and initialized by the next value in the sequence:<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//1st method</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> &amp;r : v) <span class="comment">// for each element in v</span></div><div class="line">r *= <span class="number">2</span>; <span class="comment">// double the value of each element in v</span></div><div class="line"><span class="comment">//2nd method</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> beg = v.begin(), end = v.end(); beg != end; ++beg)</div><div class="line">{</div><div class="line"><span class="keyword">auto</span> &amp;r = *beg; <span class="comment">// r must be a reference so we can change the element</span></div><div class="line">r *= <span class="number">2</span>; <span class="comment">// double the value of each element in v</span></div><div class="line">}</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="544-the-do-while-statement"><a href="#5-4-4-The-do-while-Statement" class="headerlink" title="5.4.4 The do while Statement"></a>5.4.4 The <em>do while</em> Statement</h4><blockquote>
<ul>
<li>bear in mind: A <em>do while</em> ends with a semicolon after the parenthesized condition.</li>
</ul>
</blockquote>
<h3 id="55-jump-statements"><a href="#5-5-Jump-Statements" class="headerlink" title="5.5 Jump Statements"></a>5.5 Jump Statements</h3><blockquote>
<ul>
<li><em>break</em>,<em>continue</em>,<em>goto</em>,<em>return</em></li>
<li><code>break</code>:<ul>
<li>terminates the nearest enclosing while, do while, for, or<br>switch statement.</li>
</ul>
</li>
<li><code>continue</code>:<ul>
<li>terminates the current iteration of the nearest enclosing loop<br>and immediately begins the next iteration.</li>
</ul>
</li>
<li><code>goto</code>:<ul>
<li>provides an unconditional jump from the goto to a another<br>statement in the same function.</li>
<li>A jump backward over an already executed definition is okay. Jumping back to a point before a variable is defined destroys the variable and constructs it again:</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="56-try-blocks-and-exception-handling"><a href="#5-6-try-Blocks-and-Exception-Handling" class="headerlink" title="5.6 try Blocks and Exception Handling"></a>5.6 <em>try</em> Blocks and Exception Handling</h3><blockquote>
<ul>
<li>deal with anomalous behavior</li>
<li><code>throw</code> expressions : detecting part uses to indicate that it encountered something it can&#x2019;t handle.</li>
<li><code>try</code> blocks, which the handling part uses to deal with an exception, ending with one or more <code>catch</code> clauses</li>
</ul>
</blockquote>
<h4 id="561-a-throw-expression"><a href="#5-6-1-A-throw-Expression" class="headerlink" title="5.6.1 A throw Expression"></a>5.6.1 A <code>throw</code> Expression</h4><blockquote>
<ul>
<li>example:<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// first check that the data are for the same item</span></div><div class="line"><span class="keyword">if</span> (item1.isbn() != item2.isbn())</div><div class="line"><span class="keyword">throw</span> runtime_error(<span class="string">&quot;Data must refer to same ISBN&quot;</span>);</div><div class="line"><span class="comment">// if we&apos;re still here, the ISBNs are the same</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; item1 + item2 &lt;&lt; <span class="built_in">endl</span>;</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="562-the-try-block"><a href="#5-6-2-The-try-Block" class="headerlink" title="5.6.2 The try Block"></a>5.6.2 The <em>try</em> Block</h4><blockquote>
<ul>
<li>general form:<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span> {</div><div class="line">program-statements</div><div class="line">} <span class="keyword">catch</span> (exception-declaration) {</div><div class="line">handler-statements</div><div class="line">} <span class="keyword">catch</span> (exception-declaration) {</div><div class="line">handler-statements</div><div class="line">} <span class="comment">// . . .</span></div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="563-standard-exceptions"><a href="#5-6-3-Standard-Exceptions" class="headerlink" title="5.6.3 Standard Exceptions"></a>5.6.3 Standard Exceptions</h4><blockquote>
<ul>
<li>The exception header defines the most general kind of exception class named<br>exception. It communicates only that an exception occurred but provides no<br>additional information.</li>
<li>The stdexcept header defines several general-purpose exception classes,</li>
<li>The new header defines the bad_alloc exception type,</li>
<li>The type_info header defines the bad_cast exception type</li>
</ul>
</blockquote>
<h2 id="chatper-6-functions"><a href="#Chatper-6-Functions" class="headerlink" title="Chatper 6. Functions"></a>Chatper 6. Functions</h2><h3 id="61-function-basics"><a href="#6-1-Function-Basics" class="headerlink" title="6.1 Function Basics"></a>6.1 Function Basics</h3><blockquote>
<ul>
<li>call operator: a pair of parentheses<h4 id="611-local-objects"><a href="#6-1-1-Local-Objects" class="headerlink" title="6.1.1 Local Objects"></a>6.1.1 Local Objects</h4></li>
<li>scope of a name: the part of the program&#x2019;s text where that name is visible</li>
<li>lifetime of an object: the time during the program&#x2019;s execution that the object exists</li>
<li>static object:<ul>
<li>initialized before the frist time execution</li>
<li>loal statics are not destroyed when a function ends</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="612-function-declarations"><a href="#6-1-2-Function-Declarations" class="headerlink" title="6.1.2 Function Declarations"></a>6.1.2 Function Declarations</h4><blockquote>
<ul>
<li>return type + function name + parameter types;</li>
</ul>
</blockquote>
<h4 id="613-separate-compilation"><a href="#6-1-3-Separate-Compilation" class="headerlink" title="6.1.3 Separate Compilation"></a>6.1.3 Separate Compilation</h4><blockquote>
<ul>
<li>enable us split our programs into several files, each of which can be compiled independently.</li>
<li>? need further study.</li>
</ul>
</blockquote>
<h3 id="62-argument-passing"><a href="#6-2-Argument-Passing" class="headerlink" title="6.2 Argument Passing"></a>6.2 Argument Passing</h3><blockquote>
<ul>
<li><p>passing by value, pointer, reference.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> n = <span class="number">0</span>, i = <span class="number">42</span>;</div><div class="line"><span class="keyword">int</span> *p = &amp;n, *q = &amp;i; <span class="comment">// p points to n; q points to i</span></div><div class="line">*p = <span class="number">42</span>; <span class="comment">// value in n is changed; p is unchanged</span></div><div class="line">p = q; <span class="comment">// p now points to i; values in i and n are</span></div><div class="line">unchanged</div><div class="line">The same behavior applies to pointer parameters:</div></pre></td></tr></table></figure>
</li>
<li><p>using reference to avoid copies</p>
<ul>
<li>efficient to save time of copying objects of large class types or large containers.</li>
</ul>
</li>
<li>using reference to return mutiple values</li>
</ul>
</blockquote>
<h4 id="623-const-parameters-and-arguments"><a href="#6-2-3-const-Parameters-and-Arguments" class="headerlink" title="6.2.3 const Parameters and Arguments"></a>6.2.3 <strong>const</strong> Parameters and Arguments</h4><blockquote>
<ul>
<li>We cannot pass a literal, an expression that evaluates to a type, an object that requires conversion.</li>
<li>On the other hand, we can pass a string literal as the first argument to find_char.<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Page 282</span></div><div class="line"><span class="built_in">string</span>::<span class="function">size_type <span class="title">find_char</span><span class="params">(<span class="built_in">string</span> &amp;s, <span class="keyword">char</span> c, <span class="built_in">string</span>::size_type &amp;occurs)</span></span></div><div class="line"><span class="built_in">string</span> a = <span class="string">&quot;Hello World&quot;</span>;</div><div class="line">find_char(a, <span class="string">&apos;o&apos;</span>, ctr); <span class="comment">// OK</span></div><div class="line">find_char(<span class="string">&quot;Hello World&quot;</span>, <span class="string">&apos;o&apos;</span>, ctr); <span class="comment">// fail!</span></div><div class="line"><span class="comment">// but...</span></div><div class="line"><span class="built_in">string</span>::<span class="function">size_type <span class="title">find_char</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s, <span class="keyword">char</span> c, <span class="built_in">string</span>::size_type &amp;occurs)</span></span></div><div class="line"><span class="title">find_char</span><span class="params">(<span class="string">&quot;Hello World&quot;</span>, <span class="string">&apos;o&apos;</span>, ctr)</span>; <span class="comment">// works.</span></div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="624-array-parameters"><a href="#6-2-4-Array-Parameters" class="headerlink" title="6.2.4 Array Parameters"></a>6.2.4 Array Parameters</h4><blockquote>
<ul>
<li><p>we cannot copy an array and we often convert them to a pointer(the first element)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// despite appearances, these three declarations of print are equivalent</span></div><div class="line"><span class="comment">// each function has a single parameter of type const int*</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>*)</span></span>;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>[])</span></span>; <span class="comment">// shows the intent that the function takes an</span></div><div class="line"><span class="function"><span class="built_in">array</span></span></div><div class="line"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>[<span class="number">10</span>])</span>; <span class="comment">// dimension for documentation purposes (at</span></div><div class="line">best)</div></pre></td></tr></table></figure>
</li>
<li><p>Regardless of appearances, these declarations are equivalent: Each declares a function<br>with a single parameter of type const int<em>. When the compiler checks a call to<br>print, it checks only that the argument has type const int</em>:</p>
</li>
<li>make sure that <em>all uses of the array stay within the array bounds</em>.</li>
<li><p>Three ways to read info in the list</p>
<ul>
<li><p>null character in C-style strings</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *cp)</span></span></div><div class="line">{</div><div class="line"><span class="keyword">if</span> (cp) <span class="comment">// if cp is not a null pointer</span></div><div class="line"><span class="keyword">while</span> (*cp) <span class="comment">// so long as the character it points to is not a null</span></div><div class="line">character</div><div class="line"><span class="built_in">cout</span> &lt;&lt; *cp++; <span class="comment">// print the character and advance the pointer</span></div><div class="line">}</div><div class="line"><span class="comment">// this methods works well with string, but works less well with data like int</span></div></pre></td></tr></table></figure>
</li>
<li><p>pass pointers to the first and one past the last element in the array</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> *beg, <span class="keyword">const</span> <span class="keyword">int</span> *end)</span></span></div><div class="line">{</div><div class="line"><span class="comment">// print every element starting at beg up to but not including end</span></div><div class="line"><span class="keyword">while</span> (beg != end)</div><div class="line"><span class="built_in">cout</span> &lt;&lt; *beg++ &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// print the current element</span></div><div class="line"><span class="comment">// and advance the pointer</span></div><div class="line">}</div><div class="line"><span class="comment">//The while uses the dereference and postfix increment operators</span></div></pre></td></tr></table></figure>
</li>
<li><p>define a second parameter that indicates the size of the array</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// const int ia[] is equivalent to const int* ia</span></div><div class="line"><span class="comment">// size is passed explicitly and used to control access to elements of ia</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> ia[], <span class="keyword">size_t</span> size)</span></span></div><div class="line">{</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i != size; ++i) {</div><div class="line">    <span class="built_in">cout</span> &lt;&lt; ia[i] &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>array of reference is not allowed</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">f(<span class="keyword">int</span> &amp;arr[<span class="number">10</span>]) <span class="comment">// error: declares arr as an array of references</span></div><div class="line">f(<span class="keyword">int</span> (&amp;arr)[<span class="number">10</span>]) <span class="comment">// ok: arr is a reference to an array of ten ints</span></div></pre></td></tr></table></figure>
</li>
<li><p>how to pass a multidimensional array</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> *matrix[<span class="number">10</span>]; <span class="comment">// array of ten pointers</span></div><div class="line"><span class="keyword">int</span> (*matrix)[<span class="number">10</span>]; <span class="comment">// pointer to an array of ten ints</span></div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="625-main-handling-command-line-options"><a href="#6-2-5-main-Handling-Command-Line-Options" class="headerlink" title="6.2.5 main: Handling Command-Line Options"></a>6.2.5 <em>main</em>: Handling Command-Line Options</h4><blockquote>
<ul>
<li>such options are in two parameters:<pre><code>+ int main(int argc, char *argv[]) { ... }
+ The second parameter, argv, is an array of pointers to C-style character strings. The
</code></pre>first parameter, argc, passes the number of strings in that array.</li>
<li>also we can do it in this way:<pre><code>+ int main(int argc, char **argv) { ... }, argv points to a char*
</code></pre></li>
<li>!!! When you use the arguments in argv, remember that the optional<br>arguments begin in argv[1]; argv[0] contains the program??s name, not<br>user input.</li>
</ul>
</blockquote>
<h4 id="626-functions-with-varying-parameters"><a href="#6-2-6-Functions-with-Varying-Parameters" class="headerlink" title="6.2.6 Functions with Varying Parameters"></a>6.2.6 Functions with Varying Parameters</h4><blockquote>
<ul>
<li>two way to take a varying number of arguments<ul>
<li>if all the arguments are of the same type: use <em>initializer_list</em></li>
<li>if have varying type: write a variadic template</li>
</ul>
</li>
<li>initializer_list: all the arguments are of const type P292</li>
<li>Ellipsis: allow program to interface to C code that uses a C library facility named varargs.</li>
<li>When we pass a sequence of values to an initializer_list parameter, we<br>must enclose the sequence in <code>curly braces</code>:</li>
</ul>
</blockquote>
<h4 id="63-return-types-and-the-return-statement"><a href="#6-3-Return-Types-and-the-return-Statement" class="headerlink" title="6.3 Return Types and the return Statement"></a>6.3 Return Types and the return Statement</h4><blockquote>
<ul>
<li>two types of return:<ul>
<li>return;</li>
<li>return <code>expression</code>;</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="chapter-16-templates-and-generic-programming"><a href="#Chapter-16-Templates-and-Generic-Programming" class="headerlink" title="Chapter 16 Templates and Generic Programming"></a>Chapter 16 Templates and Generic Programming</h2><blockquote>
<ul>
<li>Dealing with unknown type</li>
<li>OOP deal with types that are not known until run time</li>
<li>Generic programming would know type during compilation(vector)<ul>
<li>template are the foundation for generic programming</li>
</ul>
</li>
</ul>
<h3 id="161-definig-a-template"><a href="#16-1-Definig-a-Template" class="headerlink" title="16.1 Definig a Template"></a>16.1 Definig a Template</h3></blockquote>
<h4 id="1611-function-templates"><a href="#16-1-1-Function-Templates" class="headerlink" title="16.1.1 Function Templates"></a>16.1.1 Function Templates</h4><blockquote>
<ul>
<li>a formula where we can genertae type-specific versions of that function</li>
<li><p>a small example</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// define a **function template**</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">const</span> T &amp;v1, <span class="keyword">const</span> T &amp;v2)</span></span></div><div class="line">{</div><div class="line"><span class="keyword">if</span> (v1 &lt; v2) <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line"><span class="keyword">if</span> (v2 &lt; v1) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div><div class="line"><span class="comment">// type T is decided at run time.</span></div></pre></td></tr></table></figure>
</li>
<li><p>define multiple typename</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// error: must precede U with either typename or class</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, U&gt; <span class="function">T <span class="title">calc</span><span class="params">(<span class="keyword">const</span> T&amp;, <span class="keyword">const</span> U&amp;)</span></span>;</div><div class="line"><span class="comment">//These keywords have the same meaning and can be used interchangeably inside a</span></div><div class="line"><span class="comment">//template parameter list. A template parameter list can use both keywords:</span></div></pre></td></tr></table></figure>
</li>
<li><p>typename VS Class</p>
<ul>
<li>actually they mean the same thing<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ok: no distinction between typename and class in a template parameter list</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">class</span> U&gt; calc (<span class="keyword">const</span> T&amp;, <span class="keyword">const</span> U&amp;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</blockquote>
<p>It may seem more intuitive to use the keyword <em>typename</em> rather than <em>class</em> to<br>designate a template type parameter. After all, we can use built-in (nonclass) types as<br>a template type argument. Moreover, typename more clearly indicates that the name<br>that follows is a type name. However, typename was added to C++ after templates<br>were already in widespread use; some programmers continue to use class<br>exclusively.</p>
<blockquote>
<ul>
<li><p><strong>Nontype Template Parameters</strong></p>
<ul>
<li>a nontype parameter represents a value rather than a type</li>
<li>specified by using a specific type name instead of the class or typename keyword.</li>
<li>can be an integral type, or a pointer or (lvalue) reference to an object or to a function type</li>
<li>must be const expressions<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">template&lt;unsigned N, unsigned M&gt;</div><div class="line">int compare(const char (&amp;p1)[N], const char (&amp;p2)[M])</div><div class="line">{</div><div class="line">return strcmp(p1, p2);</div><div class="line">}</div><div class="line">//When we call this version of compare:</div><div class="line">compare(&quot;hi&quot;, &quot;mom&quot;)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>the compiler will use the size of the literals to instantiate a version of the template with the sizes substituted for N and M. Remembering that the compiler inserts a null terminator at the end of a string literal<br>so it will be int compare(const char (&amp;p1)[3], const char (&amp;p2)[4])</p>
</li>
<li><p>define template as inline function:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="function"><span class="keyword">inline</span> T <span class="title">min</span><span class="params">(<span class="keyword">const</span> T&amp;, <span class="keyword">const</span> T&amp;)</span></span>;</div><div class="line"><span class="comment">// error: incorrect placement of the inline specifier</span></div><div class="line"><span class="keyword">inline</span> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="function">T <span class="title">min</span><span class="params">(<span class="keyword">const</span> T&amp;, <span class="keyword">const</span> T&amp;)</span></span>;</div></pre></td></tr></table></figure>
</li>
<li><p>type Independence and portability(some type may not support &lt;,&gt;)</p>
<ul>
<li>using <code>less</code></li>
</ul>
</li>
<li><p><code>exercised not done</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// version of compare that will be correct even if used on pointers; see &#xA7; 14.8.2 (p.</span></div><div class="line"><span class="number">575</span>)</div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">const</span> T &amp;v1, <span class="keyword">const</span> T &amp;v2)</span></span></div><div class="line">{</div><div class="line"><span class="keyword">if</span> (less&lt;T&gt;()(v1, v2)) <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line"><span class="keyword">if</span> (less&lt;T&gt;()(v2, v1)) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line"><span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
</li>
<li><p>By making the function parameters references to const, we unsure that our function can be used on types that cannot be copied</p>
<ul>
<li>ex if we want to use &#x201C;comare(5,6)&#x201D;, we have have const in definition since 5, 6 can not be copied as a address.</li>
</ul>
</li>
<li>pointer in template<ul>
<li>T<em> rather than </em>T.<br>16.1.2 Class Templates  P 816</li>
</ul>
</li>
<li>compiler cannot deduce the template parameter type for a class template</li>
<li><p>supply additional info inside angle brackets</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class</span> Blob {</div><div class="line"><span class="keyword">public</span>:</div><div class="line"><span class="keyword">typedef</span> T value_type;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;T&gt;::size_type size_type;</div><div class="line"><span class="comment">// constructors</span></div><div class="line">Blob();</div><div class="line">Blob(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;T&gt; il);</div><div class="line"><span class="comment">// number of elements in the Blob</span></div><div class="line"><span class="function">size_type <span class="title">size</span><span class="params">()</span> <span class="keyword">const</span> </span>{ <span class="keyword">return</span> data-&gt;size(); }</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="keyword">const</span> </span>{ <span class="keyword">return</span> data-&gt;empty(); }</div><div class="line"><span class="comment">// add and remove elements</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">(<span class="keyword">const</span> T &amp;t)</span> </span>{data-&gt;push_back(t);}</div><div class="line"><span class="comment">// move version; see &#xA7; 13.6.3 (p. 548)</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_back</span><span class="params">(T &amp;&amp;t)</span> </span>{ data-&gt;push_back(<span class="built_in">std</span>::move(t)); }</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop_back</span><span class="params">()</span></span>;</div><div class="line"><span class="comment">// element access</span></div><div class="line"><span class="function">T&amp; <span class="title">back</span><span class="params">()</span></span>;</div><div class="line">T&amp; <span class="keyword">operator</span>[](size_type i); <span class="comment">// defined in &#xA7; 14.5 (p. 566)</span></div><div class="line"><span class="keyword">private</span>:</div><div class="line"><span class="built_in">std</span>::<span class="built_in">shared_ptr</span>&lt;<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;T&gt;&gt; data;</div><div class="line"><span class="comment">// throws msg if data[i] isn&apos;t valid</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">check</span><span class="params">(size_type i, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> &amp;msg)</span> <span class="keyword">const</span></span>;</div><div class="line">};</div></pre></td></tr></table></figure>
</li>
<li><p><strong>Instantiating a Class Template</strong></p>
<ul>
<li>supply extra info to use a class template.<ul>
<li>EX: Blob <int> ia;<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//failed sample</span></div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> iterator,<span class="keyword">typename</span> value&gt;</div><div class="line"><span class="function">iterator <span class="title">find</span><span class="params">(<span class="built_in">vector</span>&lt;value&gt; &amp;V, value <span class="keyword">const</span> tValue)</span></span></div></pre></td></tr></table></figure>
</int></li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h1 id="file-io"><a href="#file-IO" class="headerlink" title="file IO"></a>file IO</h1><blockquote>
<ul>
<li><a href="http://blog.csdn.net/jxusthusiwen/article/details/7541082" target="_blank" rel="external">help link 1</a></li>
<li><a href="http://blog.csdn.net/bichenggui/article/details/4600153" target="_blank" rel="external">help link 2</a></li>
</ul>
</blockquote>
<h2 id="ps-concept-clearance"><a href="#PS-Concept-Clearance" class="headerlink" title="PS: Concept Clearance"></a>PS: Concept Clearance</h2><h3 id="1-char-vs-string"><a href="#1-char-VS-string" class="headerlink" title="1. char VS string"></a>1. char VS string</h3><blockquote>
<p>A char array is just that - an array of characters:</p>
</blockquote>
<p>If allocated on the stack (char name[256], title[256];), it will always occupy eg. 256 bytes no matter how long the text it contains is<br>If allocated on the heap (using malloc() or new char[]) you&#x2019;re responsible for releasing the memory afterwards and you will always have the overhead of a heap allocation.<br>If you copy a text of more than 256 chars into the array, it might crash, produce ugly assertion messages or cause unexplainable (mis-)behavior somewhere else in your program.<br>To determine the text&#x2019;s length, the array has to be scanned, character by character, for a \0 character.<br>A string is a class that contains a char array, but automatically manages it for you. Most string implementations have a built-in array of 16 characters (so short strings don&#x2019;t fragment the heap) and use the heap for longer strings.</p>
<p>You can access a string&#x2019;s char array like this:</p>
<p>std::string myString = &#x201C;Hello World&#x201D;;<br>const char *myStringChars = myString.c_str();<br>C++ strings can contain embedded \0 characters, know their length without counting, are faster than heap-allocated char arrays for short texts and protect you from buffer overruns. Plus they&#x2019;re more readable and easier to use.</p>
<p>-</p>
<p>However, C++ strings are not (very) suitable for usage across DLL boundaries, because this would require any user of such a DLL function to make sure he&#x2019;s using the exact same compiler and C++ runtime implementation, lest he risk his string class behaving differently.</p>
<p>Normally, a string class would also release its heap memory on the calling heap, so it will only be able to free memory again if you&#x2019;re using a shared (.dll or .so) version of the runtime.</p>
<p>In short: use C++ strings in all your internal functions and methods. If you ever write a .dll or .so, use C strings in your public (dll/so-exposed) functions.</p>
<h3 id="2-heap-vs-stack"><a href="#2-heap-VS-stack" class="headerlink" title="2. heap VS stack"></a>2. heap VS stack</h3><p>The stack is the memory set aside as scratch space for a thread of execution. When a function is called, a block is reserved on the top of the stack for local variables and some bookkeeping data. When that function returns, the block becomes unused and can be used the next time a function is called. The stack is always reserved in a LIFO (last in first out) order; the most recently reserved block is always the next block to be freed. This makes it really simple to keep track of the stack; freeing a block from the stack is nothing more than adjusting one pointer.</p>
<p>The heap is memory set aside for dynamic allocation. Unlike the stack, there&#x2019;s no enforced pattern to the allocation and deallocation of blocks from the heap; you can allocate a block at any time and free it at any time. This makes it much more complex to keep track of which parts of the heap are allocated or free at any given time; there are many custom heap allocators available to tune heap performance for different usage patterns.</p>
<p>Each thread gets a stack, while there&#x2019;s typically only one heap for the application (although it isn&#x2019;t uncommon to have multiple heaps for different types of allocation).</p>
<p>To answer your questions directly:</p>
<p>To what extent are they controlled by the OS or language runtime?<br>The OS allocates the stack for each system-level thread when the thread is created. Typically the OS is called by the language runtime to allocate the heap for the application.</p>
<p>What is their scope?<br>The stack is attached to a thread, so when the thread exits the stack is reclaimed. The heap is typically allocated at application startup by the runtime, and is reclaimed when the application (technically process) exits.</p>
<p>What determines the size of each of them?<br>The size of the stack is set when a thread is created. The size of the heap is set on application startup, but can grow as space is needed (the allocator requests more memory from the operating system).</p>
<p>What makes one faster?<br>The stack is faster because the access pattern makes it trivial to allocate and deallocate memory from it (a pointer/integer is simply incremented or decremented), while the heap has much more complex bookkeeping involved in an allocation or free. Also, each byte in the stack tends to be reused very frequently which means it tends to be mapped to the processor&#x2019;s cache, making it very fast. Another performance hit for the heap is that the heap, being mostly a global resource, typically has to be multi-threading safe, i.e. each allocation and deallocation needs to be - typically - synchronized with &#x201C;all&#x201D; other heap accesses in the program.</p>
<h3 id="3-argvargv"><a href="#3-argv-amp-argv" class="headerlink" title="3. argv&amp;argv"></a>3. <a href="http://stackoverflow.com/questions/3024197/what-does-int-argc-char-argv-mean" target="_blank" rel="external">argv&amp;argv</a></h3><blockquote>
<ul>
<li>argv and argc are how command line arguments are passed to main() in C and C++.</li>
</ul>
</blockquote>
<p>argc will be the number of strings pointed to by argv. This will (in practice) be 1 plus the number of arguments, as virtually all implementations will prepend the name of the program to the array.</p>
<p>The variables are named argc (argument count) and argv (argument vector) by convention, but they can be given any valid identifier: int main(int num_args, char** arg_strings) is equally valid.</p>
<p>They can also be omitted entirely, yielding int main(), if you do not intend to process command line arguments.</p>
<h3 id="4-why-put-classfunction-definition-in-header-files-and-definition-of-ordinary-and-class-member-functions-in-source-files"><a href="#4-Why-put-class-amp-function-definition-in-header-files-and-definition-of-ordinary-and-class-member-functions-in-source-files" class="headerlink" title="4. Why put class&amp;function definition in header files and definition of ordinary and class-member functions in source files"></a>4. Why put class&amp;function definition in header files and definition of ordinary and class-member functions in source files</h3><blockquote>
<ul>
<li>when we call a function, the compiler needs to see only a declaration for<br>the function. Similarly, when we use objects of class type, the class definition must be<br>available, but the definitions of the member functions need not be present.</li>
</ul>
</blockquote>
<h3 id="5-understanding-vectorsize_type-x"><a href="#5-understanding-vector-size-type-x" class="headerlink" title="5. understanding vector::size_type x;"></a>5. <a href="http://stackoverflow.com/questions/4849632/vectorintsize-type-in-c" target="_blank" rel="external">understanding vector<int>::size_type x;</int></a></h3><blockquote>
<ul>
<li>I would read it as &#x201C;declare x as a variable of a type suitable for holding the size of a vector&#x201D;. The vector defines its own type for its length, and it&#x2019;s always cleanest to use that if possible, rather than &#x201C;guessing&#x201D; and using int, unsigned int, long, unsigned long or size_t etc directly as you&#x2019;d otherwise need to do.</li>
</ul>
</blockquote>
<h3 id="6vector-vs-list"><a href="#6-vector-VS-list" class="headerlink" title="6.vector VS list"></a>6.vector VS list</h3><p>vector:</p>
<p>Contiguous memory.<br>Pre-allocates space for future elements, so extra space required beyond what&#x2019;s necessary for the elements themselves.<br>Each element only requires the space for the element type itself (no extra pointers).<br>Can re-allocate memory for the entire vector any time that you add an element.<br>Insertions at the end are constant, amortized time, but insertions elsewhere are a costly O(n).<br>Erasures at the end of the vector are constant time, but for the rest it&#x2019;s O(n).<br>You can randomly access its elements.<br>Iterators are invalidated if you add or remove elements to or from the vector.<br>You can easily get at the underlying array if you need an array of the elements.<br>list:</p>
<p>Non-contiguous memory.<br>No pre-allocated memory. The memory overhead for the list itself is constant.<br>Each element requires extra space for the node which holds the element, including pointers to the next and previous elements in the list.<br>Never has to re-allocate memory for the whole list just because you add an element.<br>Insertions and erasures are cheap no matter where in the list they occur.<br>It&#x2019;s cheap to combine lists with splicing.<br>You cannot randomly access elements, so getting at a particular element in the list can be expensive.<br>Iterators remain valid even when you add or remove elements from the list.<br>If you need an array of the elements, you&#x2019;ll have to create a new one and add them all to it, since there is no underlying array.<br>In general, use vector when you don&#x2019;t care what type of sequential container that you&#x2019;re using, but if you&#x2019;re doing many insertions or erasures to and from anywhere in the container other than the end, you&#x2019;re going to want to use list. Or if you need random access, then you&#x2019;re going to want vector, not list. Other than that, there are naturally instances where you&#x2019;re going to need one or the other based on your application, but in general, those are good guidelines.</p>
<h3 id="7-pointer-clarification"><a href="#7-pointer-clarification" class="headerlink" title="7 pointer clarification"></a>7 <a href="http://www.codeproject.com/Articles/7042/How-to-interpret-complex-C-C-declarations" target="_blank" rel="external">pointer clarification</a></h3><blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&gt; <span class="keyword">int</span> *matrix[<span class="number">10</span>]; <span class="comment">// array of ten pointers</span></div><div class="line"><span class="keyword">int</span> (*matrix)[<span class="number">10</span>]; <span class="comment">// pointer to an array of ten ints</span></div><div class="line">&gt; <span class="keyword">char</span> * <span class="keyword">const</span> a;</div><div class="line">&gt; <span class="comment">//*a is writable, but a is not; in other words, you can modify the value pointed to by a, but you cannot modify a itself.  a is a constant pointer to char.</span></div><div class="line">&gt; <span class="comment">//*a = &apos;c&apos;; OK     a = &amp;b; NO</span></div><div class="line">&gt; <span class="keyword">const</span> <span class="keyword">char</span> * a; <span class="comment">// equals char const *a;</span></div><div class="line">&gt; <span class="comment">// a is writable, but *a is not; in other words, you can modify a (pointing it to a new location), but you cannot modify the value pointed to by a.</span></div><div class="line">&gt; <span class="comment">// a = &amp;b; OK *a = &apos;c&apos;; NO</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
</blockquote>
<h3 id="8how-to-write-a-class-template"><a href="#8-How-to-write-a-class-template" class="headerlink" title="8.How to write a class template"></a>8.<a href="http://www.cprogramming.com/tutorial/templates.html" target="_blank" rel="external">How to write a class template</a></h3><blockquote>
<p>-basic syntax for declaring a templated class<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> a_type&gt; <span class="keyword">class</span> a_class {...};</div></pre></td></tr></table></figure></p>
<ul>
<li>define a variable:<ul>
<li>a_type a_var;</li>
</ul>
</li>
<li>define a function:<ul>
<li>template<class a_type=""> void a_class<a_type>::a_function(){&#x2026;}</a_type></class></li>
</ul>
</li>
<li>declaring an instance:<ul>
<li>a_class<int> an_example_class;</int></li>
<li>an instantiated object of a templated class is called a <em>specialization</em>.</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="9typedef-typename"><a href="#9-typedef-typename" class="headerlink" title="9.typedef + typename"></a>9.<a href="http://stackoverflow.com/questions/610245/where-and-why-do-i-have-to-put-the-template-and-typename-keywords" target="_blank" rel="external">typedef + typename</a></h3><blockquote>
<ul>
<li>typedef is defining a new type for use in your code, like a shorthand.</li>
</ul>
</blockquote>
<p>typedef typename _MyBase::value_type value_type;<br>value_type v;<br>//use v<br>typename here is letting the compiler know that value_type is a type and not an object inside of _MyBase.</p>
<p>the :: is the scope of the type. It is kind of like &#x201C;is in&#x201D; so value_type &#x201C;is in&#x201D; _MyBase. or can also be thought of as contains.</p>
<h3 id="10-typecompare"><a href="#10-typeCompare" class="headerlink" title="10 typeCompare"></a>10 <a href="http://bbs.csdn.net/topics/30334109" target="_blank" rel="external">typeCompare</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T,<span class="keyword">typename</span> U&gt;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isSamtype</span><span class="params">(T a, U b)</span></span>{</div><div class="line">    <span class="keyword">return</span> <span class="keyword">typeid</span>(a) == <span class="keyword">typeid</span>(b);</div><div class="line">}</div></pre></td></tr></table></figure>
<h3 id="11-pointerreference"><a href="#11-pointer-amp-reference" class="headerlink" title="11 pointer&amp;reference"></a>11 <a href="http://stackoverflow.com/questions/8403447/swapping-pointers-in-c-char-int" target="_blank" rel="external">pointer&amp;reference</a></h3><h3 id="12-map"><a href="#12-map" class="headerlink" title="12 map"></a>12 <a href="http://www.cplusplus.com/reference/map/map/" target="_blank" rel="external">map</a></h3><blockquote>
<ul>
<li>map containers slower&lt; unordered_map containers, but they allow the direct iteration on subsets based on their order</li>
<li>maps in C++ is red-black tree</li>
<li>container properties<ul>
<li>associative<ul>
<li>Elements in associative containers are referenced by their key and not by their absolute position in the container</li>
</ul>
</li>
<li>ordered</li>
<li>Map<ul>
<li>key to value</li>
</ul>
</li>
<li>Unique keys</li>
<li>allocator-aware<ul>
<li>The container uses an allocator object to dynamically handle its storage needs.</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="13-iterating-in-vector"><a href="#13-iterating-in-vector" class="headerlink" title="13 iterating in vector"></a>13 <a href="http://stackoverflow.com/questions/409348/iteration-over-stdvector-unsigned-vs-signed-index-variable" target="_blank" rel="external">iterating in vector</a></h3><h3 id="14-preprocessor-directives"><a href="#14-preprocessor-directives" class="headerlink" title="14 preprocessor directives"></a>14 <a href="http://www.cplusplus.com/doc/tutorial/preprocessor/" target="_blank" rel="external">preprocessor directives</a></h3><blockquote>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Preprocessor" target="_blank" rel="external">preprocessor:</a><ul>
<li>a preprocessor is a program that processes its input data to produce output that is used as input to another program.</li>
</ul>
</li>
<li><p>definition:</p>
<ul>
<li><p>lines included by a hash sign(#)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> str(x) #x</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; str(test);</div><div class="line"><span class="comment">// Would be translated into</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;test&quot;</span>;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> glue(a,b) a ## b</span></div><div class="line">glue(c,out) &lt;&lt; <span class="string">&quot;test&quot;</span>;</div><div class="line"><span class="comment">// Would be translated into</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;test&quot;</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>The preprocessor examines the code before actual compilation of code begins and resolves all these directives before any code is actually generated by regular statements.</p>
</li>
<li>only a single line of code( or you can use backslash \ to extend it.)</li>
<li>no semicolon</li>
</ul>
</li>
<li>#define identifier replacement<ul>
<li>replace any occurance of <em>identifer</em> in the rest of the code by <em>replacement</em></li>
</ul>
</li>
<li>define function macros:<ul>
<li><code>#define getmax(a,b) a&gt;b?a:b</code></li>
</ul>
</li>
<li><p>A macro lasts until it&#x2019;s undefined with the <code>#undef</code> preprocessor directive</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> TABLE_SIZE 100</span></div><div class="line"><span class="keyword">int</span> table1[TABLE_SIZE];</div><div class="line"><span class="meta">#<span class="meta-keyword">undef</span> TABLE_SIZE</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> TABLE_SIZE 200</span></div><div class="line"><span class="keyword">int</span> table2[TABLE_SIZE];</div></pre></td></tr></table></figure>
</li>
<li><p><code>#if</code> <code>#else</code> and <code>#elif</code></p>
</li>
<li>Line control(#line)<ul>
<li>The <code>#line</code> dirctive allows us to control both things, the <strong>line numbers</strong> within the code files as well as the <strong>file name</strong> that we want that appears when an error takes place.</li>
</ul>
</li>
<li><p>Error directive(#error )</p>
<ul>
<li>This example aborts the compilation process if the macro name __cplusplus is not defined (this macro name is defined by default in all C++ compilers).<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __cplusplus</span></div><div class="line"><span class="meta">#<span class="meta-keyword">error</span> A C++ compiler is required!</span></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Source file inclusion (#include)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;header&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;file&quot;</span></span></div></pre></td></tr></table></figure>
<ul>
<li>&lt;&gt;: used to include headers provided by the implementation</li>
<li>(): include a file, which generally includes the current path</li>
</ul>
</li>
<li>Pragma directive (#pragma)<ul>
<li>pagma:<ul>
<li>In computer programming, a directive pragma (from &#x201C;pragmatic&#x201D;) is a language construct that specifies how a compiler (or assembler or interpreter) should process its input.</li>
</ul>
</li>
<li>This directive is used to specify diverse options to the compiler. These options are specific for the platform and the compiler you use.</li>
<li>If the compiler does not support a specific argument for #pragma, it is ignored - no syntax error is generated.</li>
</ul>
</li>
<li>Predefined macro names<ul>
<li><code>__LINE__</code>, <code>__FILE__</code>, <code>__DATE__</code>, <code>__TIME</code></li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="why-do-we-need-pointer-to-pointer"><a href="#why-do-we-need-pointer-to-pointer" class="headerlink" title="why do we need pointer to pointer"></a><a href="http://stackoverflow.com/questions/5580761/why-use-double-pointer-or-why-use-pointers-to-pointers" target="_blank" rel="external">why do we need pointer to pointer</a></h3><h3 id="debug-macro"><a href="#Debug-macro" class="headerlink" title="Debug macro:"></a>Debug macro:</h3><blockquote>
<ul>
<li><a href="http://stackoverflow.com/questions/14251038/debug-macros-in-c" target="_blank" rel="external">stackoverflow explanation</a><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> DEBUG</span></div><div class="line">Some code</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="data-structure-in-c"><a href="#Data-Structure-in-C" class="headerlink" title="Data Structure in C++"></a>Data Structure in C++</h3><blockquote>
<p>-<a href="http://www.youtube.com/watch?v=o5wJkJJpKtM" target="_blank" rel="external">linked list</a><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> node{</div><div class="line">  <span class="keyword">int</span> data;</div><div class="line">  node* next;</div><div class="line">};</div><div class="line">node* n, t, h;</div><div class="line">n = <span class="keyword">new</span> node;</div></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="15-private-vs-public-vs-protected"><a href="#15-private-VS-public-VS-protected" class="headerlink" title="15. private VS public VS protected"></a>15. <a href="http://stackoverflow.com/questions/860339/difference-between-private-public-and-protected-inheritance" target="_blank" rel="external">private VS public VS protected</a></h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Class Base {</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">        <span class="keyword">int</span> publicMember;</div><div class="line">    <span class="keyword">protected</span>:</div><div class="line">        <span class="keyword">int</span> protectedMember;</div><div class="line">    <span class="keyword">private</span>:</div><div class="line">        <span class="keyword">int</span> privateMember;</div><div class="line"></div><div class="line">};</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>Everything that&#x2019;s aware of the base class is aware that <code>Base</code> contains <code>publicMember</code>.</li>
<li>Only the children and their chidren are aware that <code>Base</code> contains <code>protectedMember</code>.</li>
<li>No one but the base is aware of <code>privateMember</code>.</li>
<li>Inheritance:<ul>
<li>if the inheritance is <code>public</code>, everything that&#x2019;s aware of <code>Base</code> and <code>Child</code></li>
<li>if the inheritance is <code>protected</code>, only <code>Child</code>, and its children, are aware that they inherit from <code>Base</code>.</li>
<li>If the inheritance is <code>private</code>, no one other than <code>Child</code> is aware of the inheritance.</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> A</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">int</span> x;</div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="keyword">int</span> y;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">int</span> z;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class</span> B : <span class="keyword">public</span> A</div><div class="line">{</div><div class="line">    <span class="comment">// x is public</span></div><div class="line">    <span class="comment">// y is protected</span></div><div class="line">    <span class="comment">// z is not accessible from B</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class</span> C : <span class="keyword">protected</span> A</div><div class="line">{</div><div class="line">    <span class="comment">// x is protected</span></div><div class="line">    <span class="comment">// y is protected</span></div><div class="line">    <span class="comment">// z is not accessible from C</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class</span> D : <span class="keyword">private</span> A    <span class="comment">// &apos;private&apos; is default for classes</span></div><div class="line">{</div><div class="line">    <span class="comment">// x is private</span></div><div class="line">    <span class="comment">// y is private</span></div><div class="line">    <span class="comment">// z is not accessible from D</span></div><div class="line">};</div></pre></td></tr></table></figure>
<h3 id="16-memcpy"><a href="#16-Memcpy" class="headerlink" title="16. Memcpy"></a>16. Memcpy</h3><blockquote>
<ul>
<li><a href="http://stackoverflow.com/questions/4544804/in-what-cases-should-i-use-memcpy-over-standard-operators-in-c" target="_blank" rel="external">why use memcpy</a></li>
<li>how to compare time</li>
</ul>
</blockquote>
<h3 id="17-include-vs-include-filename"><a href="#17-include-VS-include-&#x201C;filename&#x201D;" class="headerlink" title="17.  #include  VS #include &#x201C;filename&#x201D;"></a>17.  #include <filename> VS #include &#x201C;filename&#x201D;</filename></h3><blockquote>
<ul>
<li><a href="http://stackoverflow.com/questions/21593/what-is-the-difference-between-include-filename-and-include-filename" target="_blank" rel="external">stackoverflow link</a></li>
<li>For #include &#x201C;filename&#x201D; the preprocessor searches in the same directory as the file containing the directive. This method is normally used to include programmer-defined header files.</li>
<li>For #include <filename> the preprocessor searches in an implementation dependent manner, normally in search directories pre-designated by the compiler/IDE. This method is normally used to include standard library header files.</filename></li>
<li>Check piCookie&#x2019;s answer for a more accuate result</li>
</ul>
</blockquote>
<h3 id="18-raii"><a href="#18-RAII" class="headerlink" title="18. RAII"></a>18. <a href="http://en.cppreference.com/w/cpp/language/raii" target="_blank" rel="external">RAII</a></h3><blockquote>
<ul>
<li>Resource Acquisition Is Initialization<ul>
<li>binds the life cycle of a resource(allocated memory, thread of execution,open socket&#x2026;) to the lifetime of an object,also called as <strong>Scope Bound Resource Management(SBRM)</strong></li>
<li>guarantee:<ul>
<li>resource is available to any function that may access the object</li>
<li>guarantees that all resources are released when the lifetime of their controlling objectends, in reverse order of acquisition.<ul>
<li>Classes with open()/close(), lock()/unlock(), or init()/copyFrom()/destroy() member functions are typical examples of non-RAII classes</li>
<li>example: std:string, std::vector,std::thread,std::unique_ptr,std::shared_ptr,&#x2026;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="19-error-message-learning"><a href="#19-Error-message-learning" class="headerlink" title="19. Error message learning"></a>19. Error message learning</h3><blockquote>
<ul>
<li><a href="http://stackoverflow.com/questions/24096807/dso-missing-from-command-line" target="_blank" rel="external">DSO missing from command line</a><ul>
<li>DSO: Dynamic Shard Object</li>
<li>example: <em>/home/haochengliu/Kitware/VTK/buildTest/lib/libvtkCommonSystem-7.1.so.1: error adding symbols: DSO missing from command line</em> means that <code>vtkCommonSystem</code> module is missing from commandline</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="20-gcc-version-check"><a href="#20-GCC-version-check" class="headerlink" title="20. GCC version check"></a>20. GCC version check</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">#define GCC_VERSION (__GNUC__ * 10000 \</div><div class="line">                                   + __GNUC_MINOR__ * 100 \</div><div class="line">                                   + __GNUC_PATCHLEVEL__)</div><div class="line">#if GCC_VERSION &lt;= 50000</div><div class="line">#  include &lt;math.h&gt;</div><div class="line">#else</div><div class="line">#  ifdef __cplusplus</div><div class="line">#    include &lt;cmath&gt;</div><div class="line">using std::isnan;</div><div class="line">#  else</div><div class="line">#    include &lt;math.h&gt;</div><div class="line">#  endif</div><div class="line">#endif</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>Do <code>ifdef GNUC</code> check for non-gcc users!!!</li>
</ul>
</blockquote>
<h2 id="macros-in-c"><a href="#macros-in-C" class="headerlink" title="macros in C++"></a>macros in C++</h2><blockquote>
<ul>
<li>Preprocessor directives<ul>
<li>lines included in the code of programs preceded by a hash sign(#)</li>
<li>the only way to extend it across multiple line: <code>\</code></li>
</ul>
</li>
<li>Macro definitions<ul>
<li><code>define identifier replacement</code>: <code>#define TABLE_SIZE 100</code></li>
<li>define function macro: <code>define getmax(a,b) a&gt;b?a:b</code></li>
<li>combination of <code>define</code> and <code>undef</code></li>
</ul>
</li>
<li>Special operators as <code>#</code> and <code>##</code><ul>
<li><code>#</code>: the operator #, followed by a parameter name, is replaced by a string literal that contains the argument passed(as if enclosed between double quotes)</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> str(x) #x</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; str(test);</div><div class="line"><span class="comment">//works as cout &lt;&lt; &quot;test&quot;;</span></div></pre></td></tr></table></figure>
<blockquote>
<pre><code>+ `##`: concatenates two arguments leaving no blank spaces between them
</code></pre></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> glue(a,b) a ## b</span></div><div class="line">glue(c,out) &lt;&lt; <span class="string">&quot;test&quot;</span>;</div><div class="line"><span class="comment">// works as</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;test&quot;</span>;</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>Conditional inclusions(#ifdef, #ifndef, #if, #endif, #else and #elif)</li>
</ul>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">#if TABLE_SIZE&gt;200</div><div class="line">#undef TABLE_SIZE</div><div class="line">#define TABLE_SIZE 200</div><div class="line"></div><div class="line">#elif TABLE_SIZE&lt;50</div><div class="line">#undef TABLE_SIZE</div><div class="line">#define TABLE_SIZE 50</div><div class="line"></div><div class="line">#else</div><div class="line">#undef TABLE_SIZE</div><div class="line">#define TABLE_SIZE 100</div><div class="line">#endif</div><div class="line"></div><div class="line">int table[TABLE_SIZE];</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>Line control #line<ul>
<li><code>#line number &quot;filename&quot;</code>: allows us to show line and filename when an error takes place</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">line</span> 20 <span class="meta-string">&quot;assigning variable&quot;</span></span></div><div class="line"><span class="keyword">int</span> a?;</div><div class="line"></div><div class="line"><span class="comment">// output:</span></div><div class="line">error in file <span class="string">&quot;assigning variable&quot;</span>, line <span class="number">20.</span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>Error directive (#error)<ul>
<li>you can create compilation error</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __cplusplus</span></div><div class="line"><span class="meta">#<span class="meta-keyword">error</span> A C++ compiler is required!</span></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>Source file inclusion (#include)</li>
<li>Pragma directive (#pragma)<ul>
<li>specify diverse options to the compiler</li>
</ul>
</li>
<li>Predefined macro names<ul>
<li>Ex: <code>__cplusplus</code>: <strong>199711L</strong>: ISO C++ 1998/2003, <strong>201103L</strong>: ISO C++ 2011</li>
<li><strong>FILE</strong>, <strong>DATE</strong>, <strong>TIME</strong>, <strong>LINE</strong></li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="whats-hin-file"><a href="#What&#x2019;s-h-in-file" class="headerlink" title="What&#x2019;s h.in file"></a><a href="http://stackoverflow.com/questions/14248848/what-mean-file-with-extension-h-in" target="_blank" rel="external">What&#x2019;s h.in file</a></h3><blockquote>
<ul>
<li>These files are usually the input for autoconf which will generate final .h files.</li>
</ul>
</blockquote>
<p>Here&#x2019;s an example from PCRE:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">define</span> PCRE_MAJOR          @PCRE_MAJOR@</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> PCRE_MINOR          @PCRE_MINOR@</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> PCRE_PRERELEASE     @PCRE_PRERELEASE@</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> PCRE_DATE           @PCRE_DATE@</span></div></pre></td></tr></table></figure>
<p>Autoconf will replace all variables (@&#x2026;@) with the respective values and the result will be a .h file.</p>
<blockquote>
<ul>
<li>Typically, a .h.in file is a header template that is filled in to become the actual header by a configure script based on the outcome of several tests for features present on the target platform.</li>
</ul>
</blockquote>
<h2 id="override-specifier"><a href="#override-specifier" class="headerlink" title="override specifier"></a><a href="http://en.cppreference.com/w/cpp/language/override" target="_blank" rel="external">override specifier</a></h2><blockquote>
<ul>
<li>specifies that a virtual function overrides another virtual function</li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> A</div><div class="line">{</div><div class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">bar</span><span class="params">()</span></span>;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">struct</span> B : A</div><div class="line">{</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span> <span class="keyword">const</span> override</span>; <span class="comment">// Error: B::foo does not override A::foo</span></div><div class="line">                               <span class="comment">// (signature mismatch)</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span> override</span>; <span class="comment">// OK: B::foo overrides A::foo</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">bar</span><span class="params">()</span> override</span>; <span class="comment">// Error: A::bar is not virtual</span></div><div class="line">};</div></pre></td></tr></table></figure>
<h2 id="reverse_iterator"><a href="#reverse-iterator" class="headerlink" title="reverse_iterator"></a><a href="http://www.cplusplus.com/reference/iterator/reverse_iterator/" target="_blank" rel="external">reverse_iterator</a></h2><blockquote>
<ul>
<li>Notice however that when an iterator is reversed, the reversed version does not point to the same element in the range, but to the one preceding it. This is so, in order to arrange for the past-the-end element of a range: An iterator pointing to a past-the-end element in a range, when reversed, is pointing to the last element (not past it) of the range (this would be the first element of the reversed range). And if an iterator to the first element in a range is reversed, the reversed iterator points to the element before the first element (this would be the past-the-end element of the reversed range).</li>
<li>A = &#x2018;123\0&#x2019; A[0] = A_reversed[4], which is <code>\0</code></li>
</ul>
</blockquote>
<h2 id="iterators-in-c"><a href="#iterators-in-C" class="headerlink" title="iterators in C++"></a><a href="http://www.aristeia.com/Papers/CUJ_June_2001.pdf" target="_blank" rel="external">iterators in C++</a></h2><blockquote>
<ul>
<li>iterator, const_iterator, reverse_iterator, const_reverse_iterator</li>
<li>implicit conversions among iterator</li>
<li>const_iterators are not only less useful than iterators, sometimes<br>they&#x2019;re just not worth the trouble(for comparison reasons)</li>
<li>conversion between <code>const_iterators</code> and <code>interators</code><ul>
<li>you can not use casting!  They are from different classes.</li>
<li>use <code>advance</code> and <code>distance</code></li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">typedef deque&lt;int&gt; IntDeque; // as before</div><div class="line">typedef IntDeque::iterator Iter;</div><div class="line">typedef IntDeque::const_iterator ConstIter;</div><div class="line">IntDeque d;</div><div class="line">ConstIter ci;</div><div class="line">... // make ci point into d</div><div class="line">Iter i(d.begin()); // initialize i to d.begin()</div><div class="line">advance(i, distance(i, ci)); // move i up to where ci is</div><div class="line">// (but see below for why this must</div><div class="line">// be tweaked before it will compile)</div><div class="line">advance(i,distance&lt;Constlter&gt;(i,ci));</div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>if you want to insert for <code>reverse_iterator</code>, do it on the corresponding <code>iterator</code>: v.insert(ri.base(),value)</li>
<li><p>erase: <code>v.erase(--ri.base())</code> or <code>v.erase((++i).base())</code>, a preferred method</p>
</li>
<li><p><code>assert</code>: If the argument expression of this macro with functional form compares equal to zero (i.e., the expression is false), a message is written to the standard error device and abort is called, terminating the program execution. It only got executed in debug module.</p>
</li>
<li><p><code>static</code> function</p>
<ul>
<li><code>namespace {void foo ()} = static foo ()</code>, which is to make sure that one copy of code is used across different place. It&#x2019;s never a good idea to define static function in header. Make it inline in header is ok.</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="inline-and-static"><a href="#inline-and-static" class="headerlink" title="inline and static"></a><a href="http://stackoverflow.com/questions/10847176/should-i-define-static-inline-methods-in-header-file" target="_blank" rel="external">inline and static</a></h2><blockquote>
<ul>
<li>An inline function has external linkage.<br>When you mark a function inline the function will have the same address in all translation units. Also, Static locals and string literals defined within the body of an inline function are treated as the same object across translation units.<br>In short, a inline function will have the same address across all translation units.</li>
<li>static is the opposite, a static function means that the function is only known within the file.</li>
</ul>
</blockquote>
<h2 id="invalid-use-of-non-static-member-function"><a href="#invalid-use-of-non-static-member-function" class="headerlink" title="invalid use of non static member function"></a><a href="invalid use of non-static member function">invalid use of non static member function</a></h2><blockquote>
<ul>
<li><code>setCallback</code> function in vtk, you need to pass in a staic function or a lambda  function</li>
</ul>
</blockquote>
<h2 id="shared_ptr"><a href="#shared-ptr" class="headerlink" title="shared_ptr"></a><a href="http://www.cplusplus.com/reference/memory/shared_ptr/" target="_blank" rel="external">shared_ptr</a></h2><blockquote>
<ul>
<li>useful in parallelism</li>
<li>Objects of shared_ptr types have the ability of taking ownership of a pointer and share that ownership: once they take ownership, the group of owners of a pointer become responsible for its deletion when the last one of them releases that ownership.</li>
<li><a href="http://stackoverflow.com/questions/777261/avoiding-unused-variables-warnings-when-using-assert-in-a-release-build" target="_blank" rel="external"><code>assert cause warnings in release model</code></a></li>
</ul>
</blockquote>
<h2 id="when-to-use-reinterpret_cast"><a href="#when-to-use-reinterpret-cast" class="headerlink" title="when to use reinterpret_cast"></a>when to use reinterpret_cast</h2><blockquote>
<ul>
<li>This is the cast the C++ compiler uses internally for implicit casts also. reinterpret_cast are applicable in two scenarios, convert integer types to pointer types and vice versa or to convert one pointer type to another. The general idea I get is this is unportable and should be avoided</li>
</ul>
</blockquote>
<h2 id="headers-and-includes-why-and-how"><a href="#Headers-and-Includes-Why-and-How" class="headerlink" title="Headers and Includes: Why and How"></a><a href="http://www.cplusplus.com/forum/articles/10627/#msg49679" target="_blank" rel="external">Headers and Includes: Why and How</a></h2><blockquote>
<ul>
<li>C++ programs are built in a two stage process. First, <strong>each source file is compiled on its own</strong>. The compiler generates intermediate files for each compiled source file. These intermediate files are often called object files &#x2013; but they are not to be confused with objects in your code. Once all the files have been individually compiled, <strong>it then links all the object files together</strong>, which generates the final binary (the program).</li>
<li>forward declare or #include?</li>
</ul>
</blockquote>
<p>If, for example, class A uses class B, then class B is one of class A&#x2019;s dependencies. Whether it can be forward declared or needs to be included depends on how B is used within A:</p>
<ul>
<li>do nothing if: A makes no references at all to B</li>
<li>do nothing if: The only reference to B is in a friend declaration</li>
<li>forward declare B if: A contains a B pointer or reference: B* myb;</li>
<li>forward declare B if: one or more functions has a B object/pointer/reference<br>as a parementer, or as a return type: B MyFunction(B myb);</li>
<li>#include &#x201C;b.h&#x201D; if: B is a parent class of A</li>
<li>#include &#x201C;b.h&#x201D; if: A contains a B object: B myb;</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//=================================</span></div><div class="line"><span class="comment">// include guard</span></div><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __MYCLASS_H_INCLUDED__</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> __MYCLASS_H_INCLUDED__</span></div><div class="line"></div><div class="line"><span class="comment">//=================================</span></div><div class="line"><span class="comment">// forward declared dependencies</span></div><div class="line"><span class="keyword">class</span> Foo;</div><div class="line"><span class="keyword">class</span> Bar;</div><div class="line"></div><div class="line"><span class="comment">//=================================</span></div><div class="line"><span class="comment">// included dependencies</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;parent.h&quot;</span></span></div><div class="line"></div><div class="line"><span class="comment">//=================================</span></div><div class="line"><span class="comment">// the actual class</span></div><div class="line"><span class="keyword">class</span> MyClass : <span class="keyword">public</span> Parent  <span class="comment">// Parent object, so #include &quot;parent.h&quot;</span></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; avector;    <span class="comment">// vector object, so #include &lt;vector&gt;</span></div><div class="line">  Foo* foo;                    <span class="comment">// Foo pointer, so forward declare Foo</span></div><div class="line">  <span class="function"><span class="keyword">void</span> <span class="title">Func</span><span class="params">(Bar&amp; bar)</span></span>;         <span class="comment">// Bar reference, so forward declare Bar</span></div><div class="line"></div><div class="line">  <span class="keyword">friend</span> <span class="keyword">class</span> MyFriend;       <span class="comment">// friend declaration is not a dependency</span></div><div class="line">                               <span class="comment">//   don&apos;t do anything about MyFriend</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// __MYCLASS_H_INCLUDED__</span></span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li><code>circular Dependencies</code><ul>
<li>break the circle by using a forward declaration</li>
<li>forward declaration + inline member function to solve usage</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// b.h  (assume its guarded)</span></div><div class="line"></div><div class="line"><span class="comment">//------------------</span></div><div class="line"><span class="keyword">class</span> A;  <span class="comment">// forward declared dependency</span></div><div class="line"></div><div class="line"><span class="comment">//------------------</span></div><div class="line"><span class="keyword">class</span> B</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <span class="function"><span class="keyword">void</span> <span class="title">Func</span><span class="params">(<span class="keyword">const</span> A&amp; a)</span></span>;  <span class="comment">// okay, A is forward declared</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">//------------------</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;a.h&quot;</span>        <span class="comment">// A is now an include dependency</span></span></div><div class="line"></div><div class="line"><span class="keyword">inline</span> <span class="keyword">void</span> B::Func(<span class="keyword">const</span> A&amp; a)</div><div class="line">{</div><div class="line">  a.DoSomething();    <span class="comment">// okay!  a.h has been included</span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>template might be problematic and ugly</li>
</ul>
</blockquote>
<h2 id="undefined-reference-to-a-const-expr"><a href="#undefined-reference-to-a-const-expr" class="headerlink" title="undefined reference to a const expr"></a>undefined reference to a const expr</h2><blockquote>
<ul>
<li>when a compile-time libray is linking a run-time library, you are seraching for the definitation(implementation) in the source file. So, you need: <code>static const int A;</code> in the header of class B, then <code>const int B::A = 0;</code> in your source file.</li>
</ul>
</blockquote>
<h2 id="shared_ptr-and-unique_ptr"><a href="#shared-ptr-and-unique-ptr" class="headerlink" title="shared_ptr and unique_ptr"></a><a href="http://stackoverflow.com/questions/106508/what-is-a-smart-pointer-and-when-should-i-use-one" target="_blank" rel="external">shared_ptr and unique_ptr</a></h2><blockquote>
<ul>
<li>shared_ptr: you can do re ference counting of the ptr.  When the last reference to the object is destroyed, the object is deleted. Reference counted pointers are very useful when the lifetime of your object is much more complicated, and is not tied directly to a particular section of code or to another object.</li>
<li>unique_ptr: copy is not allowed.</li>
</ul>
</blockquote>
<h2 id="nested-class-in-c"><a href="#nested-class-in-C" class="headerlink" title="nested class in C++"></a><a href="http://stackoverflow.com/questions/4571355/why-would-one-use-nested-classes-in-c" target="_blank" rel="external">nested class in C++</a></h2><h2 id="forward-decare-a-class-in-namespace"><a href="#forward-decare-a-class-in-namespace" class="headerlink" title="forward decare a class in namespace"></a>forward decare a class in namespace</h2><blockquote>
<ul>
<li>*<a href="http://stackoverflow.com/questions/2059665/why-cant-i-forward-declare-a-class-in-a-namespace-like-this" target="_blank" rel="external">solution</a></li>
</ul>
</blockquote>
<h2 id="macro-vs-const"><a href="#macro-VS-const" class="headerlink" title="macro VS const"></a><a href="http://stackoverflow.com/questions/6393776/what-is-the-difference-between-a-macro-and-a-const-in-c#6393843" target="_blank" rel="external">macro VS const</a></h2><blockquote>
<ul>
<li>Macros and constants are not remotely the same thing, each is sometimes appropriate for the circumstances, and your answer only scratches at the surface of the difference. Also, C++ has two different kinds of constants.</li>
</ul>
</blockquote>
<p>A constant defined with the const qualifier is best thought of as an unmodifiable variable. It has all the properties of a variable: it has a type, it has a size, it has linkage, you can take its address. (The compiler might optimize away some of these properties if it can get away with it: for instance, constants whose address is never used may not get emitted into the executable image. But this is only by the grace of the as-if rule.) The only thing you can&#x2019;t do to a const datum is change its value. A constant defined with enum is a little different. It has a type and a size, but it doesn&#x2019;t have linkage, you can&#x2019;t take its address, and its type is unique. Both of these are processed during translation phase 7, so they can&#x2019;t be anything but an lvalue or value. (I&#x2019;m sorry about the jargon in the preceding sentence, but I would have to write several paragraphs otherwise.)</p>
<p>A macro has far fewer constraints: it can expand to any sequence of tokens, as long as the overall program remains a well-formed program. It doesn&#x2019;t have any of the properties of a variable. Applying sizeof or &amp; to a macro may or may not do something useful, depending on what the macro expands to. Macros are sometimes defined to expand to numeric literals, and such macros are sometimes thought of as constants, but they&#x2019;re not: &#x201C;the compiler proper&#x201D; (that is, translation phase 7) sees them as numeric literals.</p>
<p>It is generally considered good practice, nowadays, not to use a macro when a constant will do. <code>Macros don&apos;t obey the same scoping rules as all other identifiers, which can be confusing</code>, and if you use a constant you give more information to translation phase 7 and thus also to the debugger. However, macros permit you to do things that cannot be done any other way, and if you need to do one of those things, you should not hesitate to use them. (Macros that are pulling their weight, in this sense, generally do not just expand to numeric literals, though I am not going to say never.)</p>
<h2 id="move-constructor"><a href="#Move-constructor" class="headerlink" title="Move constructor"></a><a href="http://blog.smartbear.com/c-plus-plus/c11-tutorial-introducing-the-move-constructor-and-the-move-assignment-operator/" target="_blank" rel="external">Move constructor</a></h2><blockquote>
<ul>
<li>It doesn&#x2019;t allocate new resources. Instead, it pilfers other&#x2018;s resources and then sets other to its default-constructed state.<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//C++11</span></div><div class="line">MemoryPage(MemoryPage&amp;&amp; other): size(<span class="number">0</span>), buf(<span class="literal">nullptr</span>)</div><div class="line">{</div><div class="line"><span class="comment">// pilfer other&#x2019;s resource</span></div><div class="line">size=other.size;</div><div class="line">buf=other.buf;</div><div class="line"><span class="comment">// reset other</span></div><div class="line">other.size=<span class="number">0</span>;</div><div class="line">other.buf=<span class="literal">nullptr</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h2 id="constructors-initialization-list"><a href="#constructor&#x2019;s-initialization-list" class="headerlink" title="constructor&#x2019;s initialization list"></a><a href="http://stackoverflow.com/questions/120876/what-are-the-rules-for-calling-the-superclass-constructor" target="_blank" rel="external">constructor&#x2019;s initialization list</a></h2><blockquote>
<ul>
<li>Keep in mind, that data members are always initialized in the order in which they are declared in the class definition, regardless of their order in the initialization list. To avoid strange bugs, which may arise if your data members depend on each other, you should always make sure that the order of the members is the same in the initialization list and the class definition. For the same reason the base class constructor must be the first item in the initialization list. If you omit it altogether, then the default constructor for the base class will be called automatically. In that case, if the base class does not have a default constructor, you will get a compiler error.</li>
</ul>
</blockquote>
<h2 id="doxygen-style"><a href="#Doxygen-style" class="headerlink" title="Doxygen style"></a><a href="http://www.stack.nl/~dimitri/doxygen/manual/docblocks.html#cppblock" target="_blank" rel="external">Doxygen style</a></h2><blockquote>
<ul>
<li><p>qt comment style</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*!</span></div><div class="line"> * ... text ...</div><div class="line"> */</div><div class="line"><span class="keyword">int</span> var; <span class="comment">/**&lt; Detailed description after the member */</span></div></pre></td></tr></table></figure>
</li>
<li><p>*<a href="http://www.stack.nl/~dimitri/doxygen/commands.html#cmdc" target="_blank" rel="external">command description Ex \a \b</a></p>
</li>
</ul>
</blockquote>
<h2 id="move-semantics-and-rvalue-references-in-c11"><a href="#Move-semantics-and-rvalue-references-in-C-11" class="headerlink" title="Move semantics and rvalue references in C++11"></a><a href="http://www.cprogramming.com/c++11/rvalue-references-and-move-semantics-in-c++11.html" target="_blank" rel="external">Move semantics and rvalue references in C++11</a></h2><h2 id="c-rvalue-references-explained"><a href="#C-Rvalue-References-Explained" class="headerlink" title="C++ Rvalue References Explained"></a><a href="http://thbecker.net/articles/rvalue_references/section_01.html" target="_blank" rel="external">C++ Rvalue References Explained</a></h2><blockquote>
<ul>
<li>rvalue reference introduced by C++11: solve <strong>move semantics</strong> and <strong>perfect forwarding</strong></li>
<li>X is a type. X&amp;&amp; is called <strong>rvalue reference</strong> and X&amp; is called <strong>lvalue reference</strong></li>
<li>overload base class&#x2019;s copy and move operator</li>
</ul>
</blockquote>
<h2 id="auto-keyword"><a href="#auto-keyword" class="headerlink" title="auto keyword"></a>auto keyword</h2><blockquote>
<ul>
<li>if you want to copy: use <code>for(auto item:range)</code></li>
<li>if you want to change item: use <code>for(auto &amp;&amp;item:range)</code></li>
<li>if you just want to read item: use <code>for(const auto &amp; x:range)</code></li>
</ul>
</blockquote>
<h2 id="pointer-and-class-inheritance"><a href="#pointer-and-class-inheritance" class="headerlink" title="pointer and class inheritance"></a>pointer and class inheritance</h2><blockquote>
<ul>
<li>if you want to use a vector to store base class type and its derived class type, use a vector<base class="" pointer="">, and allocate the elements on the heap rather than on the stack</li>
</ul>
</blockquote>
<h2 id="stdforward"><a href="#std-forward" class="headerlink" title="std::forward"></a><a href="http://stackoverflow.com/questions/28828159/usage-of-stdforward-vs-stdmove" target="_blank" rel="external">std::forward</a></h2><blockquote>
<ul>
<li><code>std::move</code>: takes an object and allows you to treat it as a temporary(an rvalue). It means that the value of the object should not be used afterwards</li>
<li><code>std::forward</code>: cast a templated function parameter(inside the function) to the value category(lvalue or rvalue ) the caller used to pass it.(perfect forwarding)</li>
<li><p>Let template handle lvalue and rvalue properly</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">A&amp; &amp; becomes A&amp;</div><div class="line">A&amp; &amp;&amp; becomes A&amp;</div><div class="line">A&amp;&amp; &amp; becomes A&amp;</div><div class="line">A&amp;&amp; &amp;&amp; becomes A&amp;&amp;</div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">(T &amp;&amp;t)</span></span></div><div class="line">{</div><div class="line">  bar(<span class="built_in">std</span>::forward&lt;T&gt;(t));</div><div class="line">}</div></pre></td></tr></table></figure>
</li>
<li><p>Normally, when you develop software in C++, it is your choice whether you want to pay attention to exception safety, or to use exceptions at all in your code. Rvalue references are a bit different in this regard. When you overload the copy constructor and the copy assignment operator of a class for the sake of move semantics, it is very much recommended that you do the following:</p>
<ul>
<li>Strive to write your overloads in such a way that they cannot throw exceptions. That is often trivial, because move semantics typically do no more than exchange pointers and resource handles between two objects.</li>
<li>If you succeeded in not throwing exceptions from your overloads, then make sure to advertise that fact using the new noexcept keyword.</li>
</ul>
</li>
</ul>
</blockquote>
<h1 id="bit-mask-bit-flags"><a href="#Bit-mask-amp-amp-Bit-flags" class="headerlink" title="Bit mask &amp;&amp; Bit flags"></a><a href="http://www.learncpp.com/cpp-tutorial/3-8a-bit-flags-and-bit-masks/" target="_blank" rel="external">Bit mask &amp;&amp; Bit flags</a></h1><blockquote>
<ul>
<li>To query a bit state, we use bitwise <strong>AND</strong>:<ul>
<li>if (myflags &amp; option4) &#x2026; // if option4 is set, do something</li>
</ul>
</li>
<li>To turn a bit on, we use bitwise <strong>OR</strong>:<ul>
<li>myflags |= option4; // turn option 4 on.</li>
<li>myflags |= (option4 | option5); // turn options 4 and 5 on.</li>
</ul>
</li>
<li>To turn a bit off, we use bitwise <strong>AND</strong> with an inverse bit pattern:<ul>
<li>myflags &amp;= ~option4; // turn option 4 off</li>
<li>myflags &amp;= ~(option4 | option5); // turn options 4 and 5 off</li>
</ul>
</li>
<li>To toggle a bit state, we use bitwise <strong>XOR</strong>:<ul>
<li>myflags ^= option4; // flip option4 from on to off, or vice versa</li>
<li>myflags ^= (option4 | option5); // flip options 4 and 5</li>
</ul>
</li>
</ul>
</blockquote>
<p>#<a href="http://stackoverflow.com/questions/11421432/how-can-i-output-the-value-of-an-enum-class-in-c11" target="_blank" rel="external">How to print out strongly type enum</a></p>
<blockquote>
<ul>
<li>Unlike an unscoped enumeration, a scoped enumeration is not implicitly convertible to its integer value. You need to explicitly convert it to an integer using a cast:</li>
</ul>
</blockquote>
<p>std::cout &lt;&lt; static_cast<std::underlying_type<a>::type&gt;(a) &lt;&lt; std::endl;<br>You may want to encapsulate the logic into a function template:</std::underlying_type<a></p>
<p>template <typename enumeration=""><br>auto as_integer(Enumeration const value)<br>    -&gt; typename std::underlying_type<enumeration>::type<br>{<br>    return static_cast<typename std::underlying_type<enumeration="">::type&gt;(value);<br>}<br>used as:</typename></enumeration></typename></p>
<p>std::cout &lt;&lt; as_integer(a) &lt;&lt; std::endl;</p>
<h2 id="useful-debug-codes"><a href="#Useful-Debug-codes" class="headerlink" title="Useful Debug codes"></a>Useful Debug codes</h2><blockquote>
<ul>
<li><p>print item in a list/set/map</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Debug utility:</span></div><div class="line"><span class="meta">#<span class="meta-keyword">if</span> 0</span></div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">printPointSeq</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* msg, T start, T end)</span></span></div><div class="line">{</div><div class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; msg &lt;&lt; <span class="string">&quot;\n&quot;</span>;</div><div class="line">  <span class="keyword">for</span> (T it = start; it != end; ++it)</div><div class="line">    {</div><div class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;  &quot;</span> &lt;&lt; it-&gt;x() &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;y() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// 0</span></span></div></pre></td></tr></table></figure>
</li>
<li><p>comment out code and switch it back in the future</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">It permanently comments out that code so the compiler will never compile it.</div><div class="line"></div><div class="line">The coder can later change the <span class="meta">#<span class="meta-keyword">ifdef</span> to have that code compile in the program <span class="meta-keyword">if</span> he wants to.</span></div><div class="line"></div><div class="line">It&apos;s exactly like the code doesn&apos;t exist.</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h2 id="stdcout-strong-typed-enum"><a href="#std-cout-strong-typed-enum" class="headerlink" title="std::cout strong typed enum"></a>std::cout strong typed enum</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> E&gt;</div><div class="line"><span class="keyword">constexpr</span> <span class="keyword">typename</span> <span class="built_in">std</span>::underlying_type&lt;E&gt;::<span class="function">type <span class="title">to_underlying</span><span class="params">(E e)</span> </span>{</div><div class="line">    <span class="keyword">return</span> <span class="keyword">static_cast</span>&lt;<span class="keyword">typename</span> <span class="built_in">std</span>::underlying_type&lt;E&gt;::type&gt;(e);</div><div class="line">}</div></pre></td></tr></table></figure>
<h2 id="smart-pointer"><a href="#smart-pointer" class="headerlink" title="smart pointer"></a><a href="http://umich.edu/~eecs381/handouts/C++11_smart_ptrs.pdf" target="_blank" rel="external">smart pointer</a></h2><blockquote>
<ul>
<li>smart pointer handles the <code>construction</code> and <code>deletion</code> for us</li>
<li>shared pointer<ul>
<li>the owned object is destroyed when its last owning smart pointer is destroyed</li>
</ul>
</li>
<li>weak pointer<ul>
<li>it doesn&#x2019;t own an object at all, and so plays no role when or whether the  object gets deleted. It observes the objects managed by shared_ptrs, and provides facilities for determining whether the observed object still exists or not. (solve the ring problem)</li>
<li>you can&#x2019;t dereference it; neither operator* nor operator-&gt; is defined<br>for a weak_ptr</li>
<li>You cannot use it like a built-in pointer<br>&#x2014; in fact, you can&#x2019;t use it to actually refer to the managed object at all! Almost the only things you can do are to interrogate it to see if the managed object is still there, or construct a shared_ptr from it</li>
<li>The <code>lock()</code> function examines the state of the manager object to determine whether the<br>managed object still exists, and provides a empty shared_ptr if it does not, and a shared_ptr to the manager object if it does</li>
<li>test if the shared pointer exists<ul>
<li>shared_ptr<thing> sp = wp.lock(); if (sp) // test shared_ptr exists or not</thing></li>
<li>wp.expired() // it&#x2019;s testing by doing a shared_ptr conversion first</li>
<li>try and catch.</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">shared_ptr</span>&lt;Thing&gt; sp(<span class="keyword">new</span> Thing);</div><div class="line">weak_ptr&lt;Thing&gt; wp1(sp); <span class="comment">// construct wp1 from a shared_ptr</span></div><div class="line">weak_ptr&lt;Thing&gt; wp2; <span class="comment">// an empty weak_ptr - points to nothing</span></div><div class="line">wp2 = sp; <span class="comment">// wp2 now points to the new Thing</span></div><div class="line">weak_ptr&lt;Thing&gt; wp3 (wp2); <span class="comment">// construct wp3 from a weak_ptr</span></div><div class="line">weak_ptr&lt;Thing&gt; wp4</div><div class="line">wp4 = wp2; <span class="comment">// wp4 now points to the new Thing.</span></div><div class="line"><span class="comment">// You can use the `reset()` member function to set a weak_ptr back to the empty state in which it is pointing to nothing</span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>unique_pr<ul>
<li>only one smart pointer owns the objet a time. When the owning smart pointer is destroyed, then the owned object is automatially destroyed.</li>
<li>the basic mechanism of unique_ptr is so simple that it costs nothing to use.</li>
<li>unique_ptr implements a unique ownership concept - an object can be owned by only one<br>unique_ptr at a time</li>
<li>transferring ownership<ul>
<li>use std::move. Ex: p2 = std::move(p1);</li>
</ul>
</li>
</ul>
</li>
<li>miscellaneous<ul>
<li><code>get()</code> would return the raw pointer</li>
<li>casting shared_ptrs<ul>
<li>std::dynamic_pointer_cast, const, static&#x2026;.</li>
</ul>
</li>
<li>save memory allocation<ul>
<li>shared_ptr<thing> p(new Thing); // ouch - two allocations</thing></li>
<li>shared_ptr<thing> p(make_shared<thing>()); // only one allocation</thing></thing></li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Thing {</div><div class="line"><span class="keyword">public</span>:</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">defrangulate</span><span class="params">()</span></span>;</div><div class="line">};</div><div class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt; (ostream&amp;, <span class="keyword">const</span> Thing&amp;);</div><div class="line">...</div><div class="line"><span class="comment">// a function can return a shared_ptr</span></div><div class="line"><span class="built_in">shared_ptr</span>&lt;Thing&gt; find_some_thing();</div><div class="line"><span class="comment">// a function can take a shared_ptr parameter by value;</span></div><div class="line"><span class="built_in">shared_ptr</span>&lt;Thing&gt; do_something_with(<span class="built_in">shared_ptr</span>&lt;Thing&gt; p);</div><div class="line">...</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span></span></div><div class="line">{</div><div class="line"><span class="comment">// the new is in the shared_ptr constructor expression:</span></div><div class="line"><span class="built_in">shared_ptr</span>&lt;Thing&gt; p1(<span class="keyword">new</span> Thing);</div><div class="line">...</div><div class="line"><span class="built_in">shared_ptr</span>&lt;Thing&gt; p2 = p1; <span class="comment">// p1 and p2 now share ownership of the Thing</span></div><div class="line">...</div><div class="line"><span class="built_in">shared_ptr</span>&lt;Thing&gt; p3(<span class="keyword">new</span> Thing); <span class="comment">// another Thing</span></div><div class="line">p1 = find_some_thing(); <span class="comment">// p1 may no longer point to first Thing</span></div><div class="line">do_something_with(p2);</div><div class="line">p3-&gt;defrangulate(); <span class="comment">// call a member function like built-in pointer</span></div><div class="line"><span class="built_in">cout</span> &lt;&lt; *p2 &lt;&lt; <span class="built_in">endl</span>; <span class="comment">// dereference like built-in pointer</span></div><div class="line"><span class="comment">// reset with a member function or assignment to nullptr:</span></div><div class="line">p1.reset(); <span class="comment">// decrement count, delete if last</span></div><div class="line">p2 = <span class="literal">nullptr</span>; <span class="comment">// convert nullptr to an empty shared_ptr, and decrement count;</span></div><div class="line">}</div><div class="line"><span class="comment">// p1, p2, p3 go out of scope, decrementing count, delete the Things if last</span></div></pre></td></tr></table></figure>
<blockquote>
<ul>
<li><p>getting a shared_ptr for &#x201C;this&#x201D; object</p>
<ul>
<li><p>solution: store a weak pointer in this, as calling the <code>shared_from_this()</code> member function which returns a shared_ptr obtained by construction from the weak_ptr, which in turn will use the same manager object as the first shared_ptr</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Thing : <span class="keyword">public</span> enable_shared_from_this&lt;Thing&gt; {</div><div class="line"><span class="keyword">public</span>:</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">()</span></span>;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">defrangulate</span><span class="params">()</span></span>;</div><div class="line">};</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">{</div><div class="line"><span class="comment">// The following starts a manager object for the Thing and also</span></div><div class="line"><span class="comment">// initializes the weak_ptr member that is now part of the Thing.</span></div><div class="line"><span class="built_in">shared_ptr</span>&lt;Thing&gt; t1(<span class="keyword">new</span> Thing);</div><div class="line">t1-&gt;foo();</div><div class="line">...</div><div class="line">}</div><div class="line">...</div><div class="line"><span class="keyword">void</span> Thing::foo()</div><div class="line">{</div><div class="line"><span class="comment">// we need to transmogrify this object</span></div><div class="line"><span class="comment">// get a shared_ptr from the weak_ptr in this object</span></div><div class="line"><span class="built_in">shared_ptr</span>&lt;Thing&gt; sp_this = shared_from_this();</div><div class="line">transmogrify(sp_this);</div><div class="line">}</div><div class="line">...</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">transmogrify</span><span class="params">(<span class="built_in">shared_ptr</span>&lt;Thing&gt; ptr)</span></span></div><div class="line">{</div><div class="line">ptr-&gt;defrangulate();</div><div class="line"><span class="comment">/* etc. */</span></div><div class="line">}</div></pre></td></tr></table></figure>
</li>
<li><p>three problems:</p>
<ul>
<li>First, to get a smart this pointer, we have to modify the Thing class,<br>and carefully follow the rule of creating the Thing object only in the constructor of a shared_ptr</li>
<li>Second, you can&#x2019;t use shared_from_this() in the constructor of the Thing class</li>
<li>Third, if you don&#x2019;t have access or permission to modify the Thing class, you<br>can&#x2019;t use the enable_shared_from_this without wrapping Thing in another class, leading to some complexity.</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>
<h1 id="dll-vs-lib-vs-header"><a href="#DLL-VS-LIB-VS-HEADER" class="headerlink" title="DLL VS LIB VS HEADER"></a>DLL VS LIB VS HEADER</h1><blockquote>
<ul>
<li>To answer the question, one must first understand the difference between the header (.h), the shared library (.dll), a static library (.lib), and an import library (.lib).</li>
</ul>
</blockquote>
<p>The header only provides prototypes of the functions that the library (static or dynamic) provides.  This allows the compiler to determine what functions the linker can expect to have access to.</p>
<p>The dynamic library provides an implementation of this set of functions.  The linker will place a reference to the function (and thus to the dynamic library) in the generated file.  When the program is loaded into memory (at runtime), the runtime linker will have to resolve the location of the exported symbols, after the loader has loaded the shared library into your address space.</p>
<p>A static library also provides an implementation of the same set of functions.  However, the linker will place an implementation of the function into the final generated file.  When the program is loaded into memory, the implementation will already be present, and no shared library needs be loaded into your address space (for that set of symbols).</p>
<p>For the linker to resolve references to function or data symbols, additional information is required.  ELF (the file format used on most Unices) and Mach-O (the format used on Mac OS) encode the required information within the shared library.  However, with PE/COFF (the file format used on Windows), that information is split out into a separate file - the import library.</p>
<p>TL;DR The header is sufficient for the compiler; the dynamic library is needed for the linker for dynamic linking; the static library is needed for static linking; the import library is needed for PE/COFF for the linker to resolve function/data symbols in an external library.</p>
<blockquote>
<ul>
<li>How the executable links to the shared library<ul>
<li><a href="https://eli.thegreenplace.net/2011/08/25/load-time-relocation-of-shared-libraries/" target="_blank" rel="external">Load-time relocation</a></li>
<li><a href="https://eli.thegreenplace.net/2011/11/03/position-independent-code-pic-in-shared-libraries/" target="_blank" rel="external">Position Independent Code</a></li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="template-keyword-typename"><a href="#template-keyword-typename" class="headerlink" title="template keyword: typename"></a>template keyword: typename</h2><blockquote>
<ul>
<li><a href="http://pages.cs.wisc.edu/~driscoll/typename.html" target="_blank" rel="external">http://pages.cs.wisc.edu/~driscoll/typename.html</a></li>
</ul>
</blockquote>
<h2 id="lambda-function"><a href="#lambda-function" class="headerlink" title="lambda function"></a><a href="http://www.cprogramming.com/c++11/c++11-lambda-closures.html" target="_blank" rel="external">lambda function</a></h2><blockquote>
<ul>
<li><p>You can use std::function to hold lambda function and use it. If using it as a function argument, you can pass lambda function as call back function.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"> void filterItems(</div><div class="line">    T&amp; values, std::function&lt;bool(typename T::value_type)&gt; test, bool activeChildren = true);</div><div class="line">createModelOp-&gt;specification()-&gt;filterItems(cmItems, [](ItemPtr) { return true; }, false);</div><div class="line">&gt; - One important thing to note is that a lambda is not a std::function. It is true that a lambda can be assigned to a std::function, but that is not its native type.</div><div class="line"></div><div class="line">[]	Capture nothing (or, a scorched earth strategy?)</div><div class="line">[&amp;]	Capture any referenced variable by reference</div><div class="line">[=]	Capture any referenced variable by making a copy</div><div class="line">[=, &amp;foo]	Capture any referenced variable by making a copy, but capture variable foo by reference</div><div class="line">[bar]	Capture bar by making a copy; don&apos;t copy anything else</div><div class="line">[this]	Capture the this pointer of the enclosing class</div><div class="line">`mutable` keyword</div></pre></td></tr></table></figure>
</li>
<li><p><a href="http://www.cplusplus.com/reference/functional/function/" target="_blank" rel="external">std::function</a></p>
</li>
</ul>
</blockquote>
<h1 id="friend-a-class-in-an-anonymous-namespace"><a href="#friend-a-class-in-an-anonymous-namespace" class="headerlink" title="friend a class in an anonymous namespace"></a><a href="https://stackoverflow.com/questions/19872920/is-it-possible-to-friend-a-class-in-an-anonymous-namespace-in-c" target="_blank" rel="external">friend a class in an anonymous namespace</a></h1><blockquote>
<ul>
<li>make the anonymous class to be a member class of target class. Yet it remains unknow to client of A and does not clutter global namespace.</li>
</ul>
</blockquote>
<h1 id="error-lnk2019-__declspecdllimport"><a href="#error-LNK2019-declspec-dllimport" class="headerlink" title="error LNK2019 __declspec(dllimport)"></a><a href="https://stackoverflow.com/questions/9747207/unresolved-external-symbol-for-declspecdllimport-when-using-dll-to-export-cl" target="_blank" rel="external">error LNK2019 __declspec(dllimport)</a></h1><h1 id="passing-as-this-argument-discards-qualifiers-fpermissive"><a href="#passing-as-&#x2018;this&#x2019;-argument-discards-qualifiers-fpermissive" class="headerlink" title="[passing as &#x2018;this&#x2019; argument discards qualifiers[-fpermissive]]"></a>[passing as &#x2018;this&#x2019; argument discards qualifiers[-fpermissive]]</h1><blockquote>
<ul>
<li>calling non-const function inside a const function</li>
</ul>
</blockquote>
<h1 id="long-is-32-bit-on-64-bit-windows"><a href="#long-is-32-bit-on-64-bit-windows" class="headerlink" title="long is 32 bit on 64 bit windows!"></a><a href="https://stackoverflow.com/questions/384502/what-is-the-bit-size-of-long-on-64-bit-windows" target="_blank" rel="external">long is 32 bit on 64 bit windows!</a></h1><blockquote>
<ul>
<li>use <code>uintptr_t</code> which is big enough to hold pointers<h1 id="restores-its-target-object-to-its-original-value-once-this-classs-instance-goes-out-of-scope"><a href="#Restores-its-target-object-to-its-original-value-once-this-class&#x2019;s-instance-goes-out-of-scope" class="headerlink" title="Restores its target object to its original value once this class&#x2019;s instance goes out of scope."></a>Restores its target object to its original value once this class&#x2019;s instance goes out of scope.</h1>``c++<br>// A class that restores its target object to its original value once this class&#x2019;s instance goes out of scope.<br>template <typename t=""><br>class smtkRestoreAtEndOfScope<br>{<br>public:<br>smtkRestoreAtEndOfScope(T&amp; object)<br>{<br>  m_valueToRestore = object;<br>  m_location = &amp;object;<br>}<br>~smtkRestoreAtEndOfScope() { *m_location = m_valueToRestore; }</typename></li>
</ul>
</blockquote>
<p>  T* m_location;<br>  T m_valueToRestore;<br>};<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line">## [C - Type - What are uint8_t, uint16_t, uint32_t and uint64_t?](https://www.badprog.com/c-type-what-are-uint8-t-uint16-t-uint32-t-and-uint64-t)</div><div class="line">&gt; - unit8_t -&gt; unsigned char</div><div class="line">&gt; - unit16_t -&gt; unsigned short</div><div class="line">&gt; - unit32_t -&gt; unsigned int</div><div class="line">&gt; - unit64_t -&gt; unsigned long long</div><div class="line"></div><div class="line">## [C++ clip a number](https://www.google.com/search?q=NOMINMAX&amp;oq=NOMINMAX&amp;aqs=chrome..69i57j0l5.597j0j1&amp;sourceid=chrome&amp;ie=UTF-8)</div><div class="line"></div><div class="line">## [C++ limits and bounds](http://www.cplusplus.com/reference/limits/numeric_limits/)</div><div class="line"></div><div class="line">## [C++ async tutorial](https://solarianprogrammer.com/2012/10/17/cpp-11-async-tutorial/)</div><div class="line">&gt; - re/CMB/buildCMBQt5/install/lib/libpython2.7.so (found version &quot;2.7.11&quot;)</div><div class="line">-- Found PythonInterp: /home/haochengliu/Kitware/CMB/buildCMBQt5/install/bin/python2.7 (found suitable version &quot;2.7.11&quot;, minimum requ)</div><div class="line"></div><div class="line">## [std::bind and std::placeholder](http://www.cplusplus.com/reference/functional/bind/)</div><div class="line">&gt; - Returns a function object based on fn, but with its arguments bound to args.</div><div class="line">&gt; - class A</div><div class="line">{</div><div class="line">public:</div><div class="line">void traverse(int x , int(*pfn)(int) ){ pfn(x) ; }</div><div class="line">};</div><div class="line">class B</div><div class="line">{</div><div class="line">public:</div><div class="line">void Do() {</div><div class="line">a.traverse( 1 , show );</div><div class="line">}</div><div class="line">int show(int x){ return x ; }</div><div class="line">private:</div><div class="line">A a;</div><div class="line">;</div><div class="line"></div><div class="line">&#x91CD;&#x70B9;&#x5C31;&#x662F; B &#x4E2D;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF; a &#x8C03;&#x7528;&#x4E86;&#x53C2;&#x6570;&#x662F;B&#x7684;&#x6210;&#x5458;&#x51FD;&#x6570;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7ED3;&#x679C;&#x7F16;&#x8BD1;&#x4E0D;&#x901A;&#x8FC7;..</div><div class="line">&#x540E;&#x6765;&#x4ED6;&#x628A; B &#x4E2D;&#x7684; show &#x51FD;&#x6570;&#x58F0;&#x660E;&#x6210;&#x4E86; static &#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;.</div><div class="line">&#x4F46;&#x662F;&#x6211;&#x603B;&#x89C9;&#x5F97;&#x8FD9;&#x6837;&#x505A;&#x6709;&#x5C40;&#x9650;&#x6027;.... &#x4E07;&#x4E00;show&#x9700;&#x8981;&#x8C03;&#x7528;B&#x4E2D;&#x7684;&#x975E;&#x9759;&#x6001;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x5462;? static &#x5C31;&#x4E0D;&#x884C;&#x4E86;&#x3002;&#x3002;&#x3002;</div><div class="line"></div><div class="line">&#x540E;&#x6765;&#x6211;&#x81EA;&#x5DF1;&#x60F3;&#x53BB;&#x7528; std::mem_fn &#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;,&#x53D1;&#x73B0;&#x4E0D;&#x90A3;&#x4E48;&#x597D;&#x89E3;&#x51B3;..&#x539F;&#x56E0;&#x5728;&#x4E8E;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x8FD8;&#x6709;&#x53C2;&#x6570;... mem_fn&#x9002;&#x5408;&#x6CA1;&#x6709;&#x53C2;&#x6570;&#x7684;&#x6210;&#x5458;&#x51FD;&#x6570;...</div><div class="line"></div><div class="line">&#x540E;&#x6765;&#x5B66;&#x4E60;&#x4E86;&#x4E0B; std::bind ...</div><div class="line">&#x5BF9;&#x4E8E;&#x7C7B;&#x6210;&#x5458;&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x88AB;&#x7ED1;&#x5B9A;&#x4E3A; bind( &amp;B::show , this , placeholder::_1 )</div><div class="line">&#x7136;&#x540E;&#x628A; A &#x4E2D;&#x7684; traverse &#x51FD;&#x6570;&#x6539;&#x4E3A;&#x51FD;&#x6570;&#x6A21;&#x677F; :</div><div class="line">template&lt; typename FUNCTION &gt;</div><div class="line">void traverse(int x , FUNCTION&amp;&amp; f ) { f(x); }</div><div class="line"></div><div class="line">&#x8FD9;&#x6837;&#x5C31;&#x5B8C;&#x7F8E;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;</div><div class="line"></div><div class="line">## [function object](https://en.wikipedia.org/wiki/Function_object)</div><div class="line">&gt; - a function object[a] is a construct allowing an object to be invoked or called as if it were an ordinary function, usually with the same syntax (a function parameter that can also be a function). Function objects are often called functors.</div><div class="line">&gt; - example: IntComparator is a functor/function object</div><div class="line"></div><div class="line">```c++</div><div class="line">// comparator predicate: returns true if a &lt; b, false otherwise</div><div class="line">struct IntComparator</div><div class="line">{</div><div class="line">  bool operator()(const int &amp;a, const int &amp;b) const</div><div class="line">  {</div><div class="line">    return a &lt; b;</div><div class="line">  }</div><div class="line">};</div><div class="line">int main()</div><div class="line">{</div><div class="line">    std::vector&lt;int&gt; items { 4, 3, 1, 2 };</div><div class="line">    std::sort(items.begin(), items.end(), IntComparator());</div><div class="line">    return 0;</div><div class="line">}</div><div class="line">// this can be used as a function pointer</div><div class="line">// qsort(items, sizeof(items) / sizeof(items[0]), sizeof(items[0]), compareInts);</div><div class="line">int compareInts(const void* a, const void* b)</div><div class="line">{</div><div class="line">    return (*(int *)a &gt; *(int *)b) - (*(int *)a &lt; *(int *)b);</div><div class="line">}</div></pre></td></tr></table></figure></p>
<h2 id="call-back-function"><a href="#call-back-function" class="headerlink" title="call back function"></a>call back function</h2><blockquote>
<ul>
<li>A callback function is a function that you pass to someone and let them call it at some point of time. I think people just read the first sentence of the wiki definition: a callback is a reference to executable code, or a piece of executable code, that is passed as an argument to other code.</li>
<li>Ex: std::sort(A, B, myComparefunction);</li>
</ul>
</blockquote>
<h2 id="member-function-template-to-be-virtual"><a href="#member-function-template-to-be-virtual" class="headerlink" title="member function template to be virtual"></a><a href="https://stackoverflow.com/questions/2354210/can-a-c-class-member-function-template-be-virtual" target="_blank" rel="external">member function template to be virtual</a></h2><blockquote>
<ul>
<li>Templates are all about the compiler generating code at compile-time. Virtual functions are all about the run-time system figuring out which function to call at run-time.<br>Once the run-time system figured out it would need to call a templatized virtual function, compilation is all done and the compiler cannot generate the appropriate instance anymore. Therefore you cannot have virtual member function templates.</li>
</ul>
</blockquote>
<h2 id="template-class-and-specialization"><a href="#template-class-and-specialization" class="headerlink" title="template class and specialization"></a><a href="http://www.cplusplus.com/doc/oldtutorial/templates/" target="_blank" rel="external">template class and specialization</a></h2><blockquote>
<ul>
<li>class templates: a class can have members that use template parameters as types</li>
<li>Template specialization: If we want to define a different implementation for a template when a specific type is passed as template parameter, we can declare a specialization of that template</li>
</ul>
</blockquote>
<h2 id="argument-dependent-lookup"><a href="#Argument-dependent-lookup" class="headerlink" title="Argument-dependent lookup"></a><a href="http://en.cppreference.com/w/cpp/language/adl" target="_blank" rel="external">Argument-dependent lookup</a></h2><blockquote>
<ul>
<li>set of rules for looking up the unqualified funciton names</li>
</ul>
</blockquote>
<h2 id="read-a-file-as-a-string"><a href="#Read-a-file-as-a-string" class="headerlink" title="[Read a file as a string]"></a>[Read a file as a string]</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">std::string fileName;</div><div class="line">std::ifstream file(fileName);</div><div class="line">std::string data((std::istreambuf_iterator&lt;char&gt;(file)), (std::istreambuf_iterator&lt;char&gt;()));</div></pre></td></tr></table></figure>
<h2 id="static-function-cannot-be-exported"><a href="#static-function-cannot-be-exported" class="headerlink" title="static function cannot be exported"></a>static function cannot be exported</h2><blockquote>
<ul>
<li>static function is used for internal linkage. You can not export it. Otherwise you would get error C2201 on windows.</li>
</ul>
</blockquote>
<h2 id="use-new-c-visibility-support"><a href="#Use-new-C-visibility-support" class="headerlink" title="Use new C++ visibility support"></a><a href="https://gcc.gnu.org/wiki/Visibility" target="_blank" rel="external">Use new C++ visibility support</a></h2><blockquote>
<ul>
<li>Hides most of the ELF symbols which would have previously(and unnecessarily) been public<ul>
<li>increase load time of DSO(Dynamic Shared Object)</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="how-does-the-compilation-linking-process-work"><a href="#How-does-the-compilation-linking-process-work" class="headerlink" title="How does the compilation linking process work"></a><a href="https://stackoverflow.com/questions/6264249/how-does-the-compilation-linking-process-work" target="_blank" rel="external">How does the compilation linking process work</a></h2><blockquote>
<ul>
<li>preprocessing</li>
<li>compilation</li>
<li>linking</li>
</ul>
</blockquote>
<h2 id="dllimport-and-dllexport"><a href="#dllimport-and-dllexport" class="headerlink" title="dllimport and dllexport"></a><a href="https://msdn.microsoft.com/en-us/library/81h27t8c.aspx" target="_blank" rel="external">dllimport and dllexport</a></h2><h2 id="how-to-use-template-within-a-template"><a href="#how-to-use-template-within-a-template" class="headerlink" title="how to use template within a template"></a><a href="https://stackoverflow.com/questions/610245/where-and-why-do-i-have-to-put-the-template-and-typename-keywords" target="_blank" rel="external">how to use template within a template</a></h2><blockquote>
<ul>
<li>dependent name: T::x, x is decided by T because it can be a static number or a type</li>
<li>value_type:</li>
<li>item_type:</li>
</ul>
</blockquote>
<h2 id="how-to-put-template-class-implementation-in-source-file"><a href="#how-to-put-template-class-implementation-in-source-file" class="headerlink" title="how to put template class implementation in source file"></a><a href="https://www.codeproject.com/Articles/48575/How-to-define-a-template-class-in-a-h-file-and-imp" target="_blank" rel="external">how to put template class implementation in source file</a></h2><blockquote>
<ul>
<li>Why you can not simply put it in the source file: Template is a pattern that the compiler uses to generate a family of classes/functions</li>
<li>solution 1: Create an object of a template class for the template function in the source file (recommended)</li>
<li>solution 2: Include the source file in your header file (not recommended)</li>
<li>solution 3: Include the source file in the header then remove the source file from the project(not recommended)</li>
<li>solution 4: export keyword</li>
<li><a href="https://isocpp.org/wiki/faq/templates#separate-template-fn-defn-from-decl" target="_blank" rel="external">link</a></li>
</ul>
</blockquote>
<h2 id="name-hiding"><a href="#name-hiding" class="headerlink" title="name hiding"></a><a href="https://stackoverflow.com/questions/1628768/why-does-an-overridden-function-in-the-derived-class-hide-other-overloads-of-the" target="_blank" rel="external">name hiding</a></h2><h2 id="universalforwarding-reference"><a href="#Universal-forwarding-reference" class="headerlink" title="[Universal/forwarding reference]"></a>[Universal/forwarding reference]</h2><blockquote>
<ul>
<li>Universal reference allows passing lvalues and rvalues as the original value category type</li>
<li>lvalue:aexpressions have identity and cannot be moved</li>
<li>xvalue:aexpressions have identity and be moved</li>
<li>rvalue:aexpressions do not have identity and be moved</li>
</ul>
</blockquote>
<h2 id="scoping-and-name-lookup-are-affected-by-namespaces"><a href="#scoping-and-name-lookup-are-affected-by-namespaces" class="headerlink" title="scoping and name lookup are affected by namespaces"></a>scoping and name lookup are affected by namespaces</h2><blockquote>
<ul>
<li>hierarchical and is associated with the callsite, so resolution goes from the inner most to outermost when looking up a name</li>
</ul>
</blockquote>
<h2 id="exceptions-vs-c-style-return-codes"><a href="#Exceptions-vs-C-style-return-codes" class="headerlink" title="Exceptions vs C style return codes"></a>Exceptions vs C style return codes</h2><blockquote>
<ul>
<li>You an throw them in constructors and they use zero cost model(No run time performance loss). It would propagate up the call stack</li>
</ul>
</blockquote>
<h2 id="make-smart-pointer-handle-concurency"><a href="#Make-smart-pointer-handle-concurency" class="headerlink" title="Make smart pointer handle concurency"></a><a href="https://stackoverflow.com/questions/14482830/stdshared-ptr-thread-safety" target="_blank" rel="external">Make smart pointer handle concurency</a></h2><blockquote>
<ul>
<li><a href="http://www.cplusplus.com/reference/mutex/mutex/" target="_blank" rel="external">std::mutex</a> to keep it safe in multiple threads and provide exclusive ownership</li>
<li>make variables <a href="http://en.cppreference.com/w/cpp/atomic/atomic" target="_blank" rel="external">atomic</a> which means that the value wouwld not cause data races and can be used to synchronize memory accesses</li>
<li>memory fragmenations</li>
<li><a href="http://www.boost.org/doc/libs/1_35_0/doc/html/intrusive/intrusive_vs_nontrusive.html" target="_blank" rel="external">intrusive vs non-intrusive</a><ul>
<li>C++ non-intrusive containers stores copies of values</li>
</ul>
</li>
<li><a href="https://stackoverflow.com/questions/3770457/what-is-memory-fragmentation" target="_blank" rel="external">memory fragmentation</a></li>
<li>The classic symptom of memory fragmentation is that you try to allocate a large block and you can&#x2019;t, even though you appear to have enough memory free. Another possible consequence is the inability of the process to release memory back to the OS (because there&#x2019;s some object still in use in all the blocks it has allocated from the OS, even though those blocks are now mostly unused).</li>
</ul>
</blockquote>
<h2 id="rvo-vs-stdmove"><a href="#RVO-vs-std-move" class="headerlink" title="RVO vs std::move"></a><a href="https://www.ibm.com/developerworks/community/blogs/5894415f-be62-4bc0-81c5-3956e82276f3/entry/RVO_V_S_std_move?lang=en" target="_blank" rel="external">RVO vs std::move</a></h2><blockquote>
<ul>
<li>return value optimization: return value to be constructed not in the scope of the function but at the scope of the caller.</li>
</ul>
</blockquote>
<h2 id="pimpl"><a href="#Pimpl" class="headerlink" title="[Pimpl]"></a>[Pimpl]</h2><blockquote>
<ul>
<li>pointer to implmentation: A private pointer to a private class</li>
</ul>
</blockquote>
<h2 id="universal-reference"><a href="#Universal-Reference" class="headerlink" title="Universal Reference"></a><a href="https://isocpp.org/blog/2012/11/universal-references-in-c11-scott-meyers/" target="_blank" rel="external">Universal Reference</a></h2><blockquote>
<ul>
<li>read <a href="http://thbecker.net/articles/rvalue_references/section_01.html" target="_blank" rel="external">this post abour rvalue</a> first</li>
<li>It can be binded to a rvalue or lvalue, which is declared to be T&amp;&amp; for some deduced type</li>
</ul>
</blockquote>
<h2 id="error-c2059-syntax-error"><a href="#error-C2059-syntax-error" class="headerlink" title="error C2059 syntax error"></a>error C2059 syntax error</h2><blockquote>
<ul>
<li>#define NOMINMAX before include <windows.h></windows.h></li>
</ul>
</blockquote>
<h2 id="stdintegral_constant"><a href="#std-integral-constant" class="headerlink" title="std::integral_constant"></a><a href="http://www.cplusplus.com/reference/type_traits/integral_constant/" target="_blank" rel="external">std::integral_constant</a></h2><blockquote>
<ul>
<li>This template is designed to provide compile-time constants as types.</li>
</ul>
</blockquote>
<h2 id="type-traits"><a href="#type-traits" class="headerlink" title="type traits"></a><a href="http://www.cplusplus.com/reference/type_traits/" target="_blank" rel="external">type traits</a></h2><blockquote>
<ul>
<li>to get type information on <strong>compile time</strong><ul>
<li><em>Helper classes</em>: Standard classes to assist in creating compile-time constants<ul>
<li>integral_constant, true_type, false_type</li>
</ul>
</li>
<li><em>Type traits</em>: Classes to obtain characteristics of types in the form of compile-time constant values</li>
<li><em>Type transformation</em>: Classes to botain new  types by applying specific transformations to existing type</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="how-to-suppress-warnings-on-mac"><a href="#How-to-suppress-warnings-on-mac" class="headerlink" title="How to suppress warnings on mac"></a><a href="https://arstechnica.com/civis/viewtopic.php?p=22264193" target="_blank" rel="external">How to suppress warnings on mac</a></h2><h2 id="template-metaprogramming"><a href="#Template-metaprogramming" class="headerlink" title="Template metaprogramming"></a><a href="https://en.wikipedia.org/wiki/Template_metaprogramming" target="_blank" rel="external">Template metaprogramming</a></h2><blockquote>
<ul>
<li>TMP is a technique that templates are used by a compiler to  generate temorary source code, which is merged by the compiler with the rest of the source code and then compiled.</li>
<li>benefit: compile-time code optimization - save run-time overhead and memory footprint;static polymorphism;</li>
</ul>
</blockquote>
<h2 id="function-pointer"><a href="#Function-pointer" class="headerlink" title="Function pointer"></a><a href="http://www.learncpp.com/cpp-tutorial/78-function-pointers/" target="_blank" rel="external">Function pointer</a></h2><blockquote>
<ul>
<li>default parameters does not work for function pointer - runtime<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">foo</span><span class="params">(<span class="keyword">int</span> x)</span></span></div><div class="line">{</div><div class="line">    <span class="keyword">return</span> x;</div><div class="line">}</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">{</div><div class="line">    <span class="keyword">int</span> (*fcnPtr)(<span class="keyword">int</span>) = foo; <span class="comment">// assign fcnPtr to function foo</span></div><div class="line">    fcnPtr(<span class="number">5</span>); <span class="comment">// call function foo(5) through fcnPtr.</span></div><div class="line">		(*fcnPtr)(<span class="number">5</span>); <span class="comment">// call function foo(5) through fcnPtr.</span></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">}</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h2 id="undefined-reference-to-vtable-for-vtkmndhistogram"><a href="#undefined-reference-to-vtable-for-vtkmNDHistogram" class="headerlink" title="undefined reference to vtable for vtkmNDHistogram"></a>undefined reference to vtable for vtkmNDHistogram</h2><blockquote>
<ul>
<li>a virtual function is defined but no implementation is provieded.</li>
<li>export macro is missing<h2 id="strict-weak-ordering"><a href="#strict-weak-ordering" class="headerlink" title="strict weak ordering"></a><a href="https://stackoverflow.com/questions/979759/operator-and-strict-weak-ordering" target="_blank" rel="external">strict weak ordering</a></h2></li>
<li>in C++ std::sort function, it requires strict weak ordering. So you can not return true if a==b in your compare function.</li>
</ul>
</blockquote>
<h2 id="why-stdrandom_shuffle-should-be-deprecated"><a href="#why-std-random-shuffle-should-be-deprecated" class="headerlink" title="why std::random_shuffle should be deprecated"></a><a href="https://meetingcpp.com/blog/items/stdrandom_shuffle-is-deprecated.html" target="_blank" rel="external">why std::random_shuffle should be deprecated</a></h2><blockquote>
<ul>
<li>because <code>std::rand</code> is considered <a href="https://channel9.msdn.com/Events/GoingNative/2013/rand-Considered-Harmful" target="_blank" rel="external">harmful</a> which is used by random_shuffle<ul>
<li>non-uniform distribution and range [0, 32767]</li>
<li>unspecified  underlying algorithm</li>
</ul>
</li>
<li>in C++14, URNG(Uniform Random Number Generator) from <random> header should be used.<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">std::random_device rng; // A URNG</div><div class="line">std::mt19937 urng(rng()); // A pseudo RNG which has better performance than URNG</div><div class="line">std::shuffle(talk_ids.begin(), talk_ids.end(), urng);</div></pre></td></tr></table></figure>
</random></li>
</ul>
</blockquote>
<h2 id="pseudo-random-number-generation"><a href="#Pseudo-random-number-generation" class="headerlink" title="Pseudo-random number generation"></a><a href="https://en.cppreference.com/w/cpp/numeric/random" target="_blank" rel="external">Pseudo-random number generation</a></h2><h2 id="stdcall_once"><a href="#std-call-once" class="headerlink" title="std::call_once"></a><a href="https://en.cppreference.com/w/cpp/thread/call_once" target="_blank" rel="external">std::call_once</a></h2><blockquote>
<ul>
<li>execute the callable object f exactly once, even if called concurrently, from several threads</li>
<li>after throwing std::exception, it would be tried again</li>
</ul>
</blockquote>
<h2 id="enable_if"><a href="#enable-if" class="headerlink" title="enable_if"></a><a href="https://oopscenities.net/2012/06/02/c11-enable_if/" target="_blank" rel="external">enable_if</a></h2><blockquote>
<p>-<a href="https://en.cppreference.com/w/cpp/language/sfinae" target="_blank" rel="external">cppreference</a></p>
</blockquote>
<h2 id="explicit-keyword"><a href="#explicit-keyword" class="headerlink" title="explicit keyword"></a><a href="https://en.cppreference.com/w/cpp/language/explicit" target="_blank" rel="external">explicit keyword</a></h2><blockquote>
<ul>
<li>Specifies that a constructor or conversion function is explicit, that is, it cannot be used for <code>implcit conversions</code> and <code>copy-initialization</code>.</li>
</ul>
</blockquote>
<h2 id="stddecay"><a href="#std-decay" class="headerlink" title="std::decay"></a><a href="https://en.cppreference.com/w/cpp/types/decay" target="_blank" rel="external">std::decay</a></h2><blockquote>
<ul>
<li>Applies lvalue-to-rvalue, array-to-pointer, and function-to-pointer implicit conversions to the type T, removes cv-qualifiers, and defines the resulting type as the member typedef type.<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">func1</span><span class="params">(T&amp;&amp; param)</span> </span>{</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">std</span>::is_same&lt;T,<span class="keyword">int</span>&gt;::value)</div><div class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;param is an int\n&quot;</span>;</div><div class="line">    <span class="keyword">else</span></div><div class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;param is not an int\n&quot;</span>;</div><div class="line">}</div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">func2</span><span class="params">(T&amp;&amp; param)</span> </span>{</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">std</span>::is_same&lt;<span class="keyword">typename</span> <span class="built_in">std</span>::decay&lt;T&gt;::type,<span class="keyword">int</span>&gt;::value)</div><div class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;param is an int\n&quot;</span>;</div><div class="line">    <span class="keyword">else</span></div><div class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;param is not an int\n&quot;</span>;</div><div class="line">}</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">int</span> three = <span class="number">3</span>;</div><div class="line">    func1(three);  <span class="comment">//prints &quot;param is not an int&quot;!!!!</span></div><div class="line">    func2(three);  <span class="comment">//prints &quot;param is an int&quot;</span></div><div class="line">}</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h2 id="const-and-non-const-operator-overloading"><a href="#Const-and-Non-Const-Operator-Overloading" class="headerlink" title="Const and Non-Const Operator Overloading"></a><a href="https://stackoverflow.com/questions/19237411/const-and-non-const-operator-overloading" target="_blank" rel="external">Const and Non-Const Operator Overloading</a></h2><blockquote>
<ul>
<li>The point of having two versions is to implement &#x201C;read/write&#x201D; access for non-const objects and only &#x201C;read&#x201D; access for const objects.</li>
</ul>
</blockquote>
<h2 id="meta-programming"><a href="#Meta-programming" class="headerlink" title="Meta programming"></a>Meta programming</h2><blockquote>
<ul>
<li>get the size of variadic parameters: <code>std::integral_constant&lt;std::size_t, sizeof...(Args)&gt;</code></li>
<li><a href="https://stackoverflow.com/questions/17744842/guidelines-to-do-constexpr-operator-overloading" target="_blank" rel="external">no constexpr overloading in C++11</a></li>
<li><a href="https://stackoverflow.com/questions/16765179/does-a-template-specialization-extend-or-override-the-generic-template" target="_blank" rel="external">each template specialization brings an entirely new data type into existance</a></li>
</ul>
</blockquote>
<h2 id="massif-a-heap-profiler"><a href="#Massif-a-heap-profiler" class="headerlink" title="Massif - a heap profiler"></a>Massif - a heap profiler</h2><blockquote>
<p>-perf + hotspot</p>
</blockquote>
<h2 id="metaclases-thoughts-on-generative-c"><a href="#Metaclases-Thoughts-on-generative-C" class="headerlink" title="Metaclases: Thoughts on generative C++"></a><a href="https://herbsutter.com/2017/07/26/metaclasses-thoughts-on-generative-c/" target="_blank" rel="external">Metaclases: Thoughts on generative C++</a></h2><blockquote>
<ul>
<li></li>
</ul>
</blockquote>
<h2 id="stdstring_view"><a href="#std-string-view" class="headerlink" title="std::string_view"></a><a href="https://zpjiang.me/2018/09/16/use-string-view-to-avoid-copy-cpp17/" target="_blank" rel="external">std::string_view</a></h2><blockquote>
<ul>
<li>faster than string copy and provide an immutable-view of original data</li>
<li>if you pass a char * into a function which takes string, then C++ would create a template copy</li>
</ul>
</blockquote>
<h2 id="choose-between-different-implementations-depending-on-type-properties-at-compile-time"><a href="#choose-between-different-implementations-depending-on-type-properties-at-compile-time" class="headerlink" title="choose between different implementations depending on type properties at compile time"></a><a href="https://medium.com/@mortificador/choose-between-different-implementations-depending-on-type-properties-at-compile-time-in-c-68e3fd5cd2f8" target="_blank" rel="external">choose between different implementations depending on type properties at compile time</a></h2><blockquote>
<ul>
<li>An introduction on std::enable_if, ellpise and std::declval</li>
<li>detect return value is void or not - std::is_void + decltype</li>
</ul>
</blockquote>
<h2 id="check-if-a-class-has-a-member-function-of-a-given-signature"><a href="#check-if-a-class-has-a-member-function-of-a-given-signature" class="headerlink" title="check if a class has a member function of a given signature"></a><a href="https://stackoverflow.com/questions/87372/check-if-a-class-has-a-member-function-of-a-given-signature" target="_blank" rel="external">check if a class has a member function of a given signature</a></h2><blockquote>
<ul>
<li>It can not check a class constructed at run time</li>
</ul>
</blockquote>
<h2 id="explicit-specialization-of-a-template-function-of-a-templated-class"><a href="#explicit-specialization-of-a-template-function-of-a-templated-class" class="headerlink" title="explicit specialization of a template function of a templated class"></a><a href="https://stackoverflow.com/questions/2097811/c-syntax-for-explicit-specialization-of-a-template-function-in-a-template-clas" target="_blank" rel="external">explicit specialization of a template function of a templated class</a></h2><blockquote>
<ul>
<li>You can&#x2019;t specialize a member function without explicitly specializing the containing class.<br>What you can do however is forward calls to a member function of a partially specialized type:</li>
</ul>
</blockquote>
<h2 id="explicit-specialization-of-a-templatge-function-of-a-class"><a href="#Explicit-specialization-of-a-templatge-function-of-a-class" class="headerlink" title="Explicit specialization of a templatge function of a class"></a><a href="https://stackoverflow.com/questions/3052579/explicit-specialization-in-non-namespace-scope" target="_blank" rel="external">Explicit specialization of a templatge function of a class</a></h2><blockquote>
<ul>
<li>According to the standard, explicigt specialization must be in a namespace. But it&#x2019;s no longer true in C++17.<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Not working</span></div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">class</span> CConstraint</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    CConstraint()</div><div class="line">    {</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> ~CConstraint()</div><div class="line">    {</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TL&gt;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Verify</span><span class="params">(<span class="keyword">int</span> position, <span class="keyword">int</span> constraints[])</span></span></div><div class="line">    {</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">template</span> &lt;&gt;</div><div class="line">    <span class="keyword">void</span> Verify&lt;<span class="keyword">int</span>&gt;(<span class="keyword">int</span>, <span class="keyword">int</span>[])</div><div class="line">    {</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// Working version</span></div><div class="line"><span class="keyword">namespace</span> detail {</div><div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TL&gt; <span class="function"><span class="keyword">void</span> <span class="title">Verify</span>     <span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>[])</span> </span>{}</div><div class="line">    <span class="keyword">template</span> &lt;&gt;            <span class="keyword">void</span> Verify&lt;<span class="keyword">int</span>&gt;(<span class="keyword">int</span>, <span class="keyword">int</span>[]) {}</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class</span> CConstraint {</div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TL&gt; <span class="function"><span class="keyword">void</span> <span class="title">Verify</span><span class="params">(<span class="keyword">int</span> position, <span class="keyword">int</span> constraints[])</span> </span>{</div><div class="line">        detail::Verify&lt;TL&gt;(position, constraints);</div><div class="line">    }</div><div class="line">};</div></pre></td></tr></table></figure></li>
</ul>
</blockquote>

        
            
        
    </div>
    <div class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/C/">C++</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/07/11/premierAnswers/"  data-tooltip="premierAnswers">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/07/07/codeCombat/" data-tooltip="coding while play games!">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://lbting.com/2015/07/08/learning/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://lbting.com/2015/07/08/learning/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://lbting.com/2015/07/08/learning/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
    </ul>
</div>


        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 LBTING. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/07/11/premierAnswers/"  data-tooltip="premierAnswers">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/07/07/codeCombat/" data-tooltip="coding while play games!">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://lbting.com/2015/07/08/learning/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://lbting.com/2015/07/08/learning/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://lbting.com/2015/07/08/learning/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
    </ul>
</div>


                </div>
            
        </div>
        <div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/42.jpg"/>
        
            <h4 id="about-card-name">LBTING</h4>
        
            <h5 id="about-card-bio"><p>“They’re both convinced that a sudden passion joined them.Such certainty is beautiful.But uncertainty is more beautiful still.</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>R&amp;D Engineer</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Albany USA
            </h5>
        
    </div>
</div>
        <div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script.min.js"></script>
<!--SCRIPTS END-->



</html>
